(()=>{"use strict";class e{constructor(e,t,s,i){this._name=e.name,this._link=e.link,this._myid=e.myid,this._cardId=e._id,this._likes=e.likes,this._likesLength=e.likes.length,this._putLike=i,this._ownerId=e.owner._id,this._templateSelector=s,this.handleCardClick=t}_getTemplate(){return document.querySelector(this._templateSelector).content.querySelector(".element").cloneNode(!0)}_visibleDeleteButton(){this._myid===this._ownerId?this._detete.style.visibility="visible":this._myid!==this._ownerId&&(this._detete.style.visibility="hidden")}_countLike(){this._likes.forEach((e=>{e._id!==this._myid?this._counter.textContent=this._likesLength:this._button.classList.add("element__like-button_active")}))}generateCard(){return this._element=this._getTemplate(),this._counter=this._element.querySelector(".element__like-count"),console.log(this._counter),this._detete=this._element.querySelector(".element__delete"),this._button=this._element.querySelector(".element__like-button"),this._image=this._element.querySelector(".element__image"),this._text=this._element.querySelector(".element__title"),this._text.textContent=this._name,this._image.alt=this._name,this._image.src=this._link,this._countLike(),this._visibleDeleteButton(),this._setEventListeners(),this._element}_likeCard(){this._putLike(this._button,this._cardId)}toggleLike(e){this._button.classList.toggle("element__like-button_active"),this._counter.textContent=e.length}_deleteCard(){this._element.remove(),this._element=null}openImg(){this.handleCardClick(this._name,this._link)}_setEventListeners(){this._button.addEventListener("click",(()=>{this._likeCard()})),this._detete.addEventListener("click",(()=>{this._deleteCard()})),this._image.addEventListener("click",(()=>{this.openImg()}))}}class t{constructor(e){this._popup=document.querySelector(e),this._handleEscClose=this._handleEscClose.bind(this),this._popupCloseButton=this._popup.querySelector(".popup__close")}open(){this._popup.classList.add("popup_opened"),document.addEventListener("keydown",this._handleEscClose)}close(){this._popup.classList.remove("popup_opened"),document.removeEventListener("keydown",this._handleEscClose)}_handleEscClose(e){"Escape"===e.key&&this.close()}setEventListeners(){this._popup.addEventListener("mousedown",(e=>{e.target===e.currentTarget&&this.close()})),this._popupCloseButton.addEventListener("click",(()=>{this.close()}))}}class s extends t{constructor(e,t){super(e),this.formSubmitAdd=t,this._form=this._popup.querySelector(".form"),this._input=this._popup.querySelectorAll(".form__item"),this._formButton=this._popup.querySelectorAll(".popup__saved-button")}close(){super.close(),this._form.reset()}_getInputValues(){return this.values={},this._input.forEach((e=>{this.values[e.name]=e.value})),this.values}setInputsValues(e){this._input.forEach((t=>{t.value=e[t.name]}))}_onSubmit=e=>{e.preventDefault(),this.formSubmitAdd(this._getInputValues())};setEventListeners(){super.setEventListeners(),this._form.addEventListener("submit",this._onSubmit)}}const i={formSelector:".form",inputSelector:".form__item",submitButtonSelector:".popup__saved-button",inactiveButtonClass:"popup__saved-button_disabled",inputErrorClass:"form__item-error",errorClass:"error_opened"};class o{constructor(e,t){this.formSelector=t,this._inputSelector=e.inputSelector,this._submitButtonSelector=e.submitButtonSelector,this._inactiveButtonClass=e.inactiveButtonClass,this._inputErrorClass=e.inputErrorClass,this._errorClass=e.errorClass,this._inputList=Array.from(this.formSelector.querySelectorAll(this._inputSelector)),this._submitButton=this.formSelector.querySelector(this._submitButtonSelector)}_enableButton(e){e.classList.remove(this._inactiveButtonClass),e.removeAttribute("disabled")}disableButton(e){e.classList.add(this._inactiveButtonClass),e.setAttribute("disabled",!0)}_showInputError(e){const t=document.querySelector(`#${e.id}-error`);e.classList.add(this._inputErrorClass),t.textContent=e.validationMessage,t.classList.add(this._errorClass)}_hideInputError(e){const t=document.querySelector(`#${e.id}-error`);e.classList.remove(this._inputErrorClass),t.textContent="",t.classList.remove(this._errorClass)}_hasInvalidInput(e){return e.some((e=>!e.validity.valid))}_checkInputValidity(e){e.checkValidity()?this._hideInputError(e):this._showInputError(e)}setEventListeners(){this.disableButton(this._submitButton),this._inputList.forEach((e=>{e.addEventListener("input",(()=>{this.toggleButtonState(),this._checkInputValidity(e)}))}))}toggleButtonState(){this._hasInvalidInput(this._inputList)?this.disableButton(this._submitButton):this._enableButton(this._submitButton)}resetValidation(){this.toggleButtonState(),this._inputList.forEach((e=>{this._hideInputError(e)}))}enableValidation(){this.setEventListeners()}}const r=document.querySelector(".popup_type_edit"),n=document.querySelector(".popup_type_add"),a=(document.querySelector(".popup_type_image"),document.querySelector(".popup_type_confirm"),document.querySelector(".popup_type_avatar")),l=document.querySelector(".profile"),h=l.querySelector(".profile__edit-button"),c=l.querySelector(".profile__add-button"),u=r.querySelector(".form"),_=n.querySelector(".form"),d=a.querySelector(".form"),p=new class{constructor(e){this._url=e.baseUrl,this._headers=e.headers,this._authorization=e.headers.authorization}_checkResponse(e){return e.ok?e.json():Promise.reject(`Что-то пошло не так: ${e.status}`)}getInfo(){return fetch(`${this._url}/users/me`,{headers:{authorization:this._authorization,"Content-Type":"application/json"}}).then(this._checkResponse)}getCard(){return fetch(`${this._url}/cards`,{headers:{authorization:this._authorization,"Content-Type":"application/json"}}).then(this._checkResponse)}setUserInfo(e){return fetch(`${this._url}/users/me`,{method:"PATCH",headers:this._headers,body:JSON.stringify({name:e.firstname,about:e.description})}).then(this._checkResponse)}setUserAvatar(e){return fetch(`${this._url}/users/me/avatar`,{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e.avatar})}).then(this._checkResponse)}addCard(e){return fetch(`${this._url}/cards`,{method:"POST",headers:this._headers,body:JSON.stringify({name:e.title,link:e.link})}).then(this._checkResponse)}addLike(e){return fetch(`${this._url}/cards/${e}/likes`,{method:"PUT",headers:{authorization:this._authorization}}).then(this._checkResponse)}deleteLike(e){return fetch(`${this._url}/cards/${e}/likes`,{method:"DELETE",headers:{authorization:this._authorization}}).then(this._checkResponse)}}({baseUrl:"https://mesto.nomoreparties.co/v1/cohort-66",headers:{authorization:"26786be3-fed9-4d83-9ae2-1348eee1b7d5","Content-Type":"application/json"}}),m=new class extends t{constructor(e){super(e),this._image=this._popup.querySelector(".popup__image"),this._text=this._popup.querySelector(".popup__text")}open=(e,t)=>{this._text.textContent=e,this._image.alt=e,this._image.src=t,super.open()}}(".popup_type_image");m.setEventListeners();const f=new class{constructor(e){this._profileName=document.querySelector(e.nameSelector),this._profileText=document.querySelector(e.jobSelector),this._profileAvatar=document.querySelector(e.avatarSelector)}getUserInfo(){return{firstname:this._profileName.textContent,description:this._profileText.textContent}}serUserInfo({avatar:e,firstname:t,description:s}){this._profileAvatar.src=e,this._profileName.textContent=t,this._profileText.textContent=s}}({nameSelector:".profile__title",jobSelector:".profile__subtitle",avatarSelector:".profile__avatar"}),v=new s(".popup_type_edit",(function(e){p.setUserInfo(e).then((e=>{f.serUserInfo({avatar:e.avatar,firstname:e.name,description:e.about})})).catch((e=>console.error(`Ошибка при редактировании ${e}`))),v.close()}));v.setEventListeners(),h.addEventListener("click",(function(){v.setInputsValues(f.getUserInfo()),console.log(f.getUserInfo()),v.open()}));const y=new s(".popup_type_add",(function(e){console.log("open"),Promise.all([p.getInfo(),p.addCard(e)]).then((([e,t])=>{console.log(t),t.myid=e._id,k.addItem(g(t)),y.close()})).catch((e=>console.error(`Ошибка при создании карточки ${e}`)))}));y.setEventListeners(),c.addEventListener("click",(function(){y.open()}));const S=new s(".popup_type_avatar",(function(e){p.setUserAvatar(e).then((e=>{console.log(e),f.serUserInfo({avatar:e.avatar,firstname:e.name,description:e.about})})).catch((e=>console.error(`Ошибка при редактировании аватара ${e}`))),S.close(),console.log("Close")}));S.setEventListeners();const b=document.querySelector(".profile__avatar-button");function g(t){const s=new e(t,m.open,".elements-template",((e,t)=>{e.classList.contains("element__like-button_active")?p.deleteLike(t).then((e=>{console.log(e),s.toggleLike(e.likes)})).catch((e=>console.error(`Ошибка при удалении лайка ${e}`))):p.addLike(t).then((e=>{console.log(e),s.toggleLike(e.likes)})).catch((e=>console.error(`Ошибка при поставк лайка ${e}`)))}));return s.generateCard()}console.log(b),b.addEventListener("click",(function(){S.open()}));const k=new class{constructor(e,t){this.renderer=e,this._container=document.querySelector(t)}addItem(e){this._container.prepend(e)}renderItems(e){e.forEach((e=>{this.renderer(e)}))}}((e=>{k.addItem(g(e))}),".elements__list-template"),C=new o(i,u),L=new o(i,_),E=new o(i,d);C.enableValidation(),L.enableValidation(),E.enableValidation(),Promise.all([p.getInfo(),p.getCard()]).then((([e,t])=>{console.log(t),t.forEach((t=>{t.myid=e._id})),console.log(e),f.serUserInfo({avatar:e.avatar,firstname:e.name,description:e.about}),k.renderItems(t)})).catch((e=>console.error(`Ошибка при начальных данный страницы ${e}`)))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJtYXBwaW5ncyI6Im1CQUFlLE1BQU1BLEVBQ2pCQyxZQUFZQyxFQUFVQyxFQUFpQkMsRUFBa0JDLEdBRXJEQyxLQUFLQyxNQUFRTCxFQUFTTSxLQUN0QkYsS0FBS0csTUFBUVAsRUFBU1EsS0FDdEJKLEtBQUtLLE1BQVFULEVBQVNVLEtBQ3RCTixLQUFLTyxRQUFVWCxFQUFTWSxJQUN4QlIsS0FBS1MsT0FBU2IsRUFBU2MsTUFDdkJWLEtBQUtXLGFBQWVmLEVBQVNjLE1BQU1FLE9BQ25DWixLQUFLYSxTQUFXZCxFQUNoQkMsS0FBS2MsU0FBV2xCLEVBQVNtQixNQUFNUCxJQUMvQlIsS0FBS2dCLGtCQUFvQmxCLEVBQ3pCRSxLQUFLSCxnQkFBa0JBLENBSTNCLENBQ0FvQixlQU9JLE9BTG9CQyxTQUNmQyxjQUFjbkIsS0FBS2dCLG1CQUNuQkksUUFDQUQsY0FBYyxZQUNkRSxXQUFVLEVBRW5CLENBQ0FDLHVCQUNRdEIsS0FBS0ssUUFBVUwsS0FBS2MsU0FDcEJkLEtBQUt1QixRQUFRQyxNQUFNQyxXQUFhLFVBQ3pCekIsS0FBS0ssUUFBVUwsS0FBS2MsV0FDM0JkLEtBQUt1QixRQUFRQyxNQUFNQyxXQUFhLFNBRXhDLENBQ0FDLGFBQ0kxQixLQUFLUyxPQUFPa0IsU0FBUUMsSUFDWkEsRUFBUXBCLE1BQVFSLEtBQUtLLE1BSXRCTCxLQUFLNkIsU0FBU0MsWUFBZTlCLEtBQUtXLGFBSGpDWCxLQUFLK0IsUUFBUUMsVUFBVUMsSUFBSSw4QkFHa0IsR0FFekQsQ0FFQUMsZUFjSSxPQWJBbEMsS0FBS21DLFNBQVduQyxLQUFLaUIsZUFDckJqQixLQUFLNkIsU0FBVzdCLEtBQUttQyxTQUFTaEIsY0FBYyx3QkFDNUNpQixRQUFRQyxJQUFJckMsS0FBSzZCLFVBQ2pCN0IsS0FBS3VCLFFBQVV2QixLQUFLbUMsU0FBU2hCLGNBQWMsb0JBQzNDbkIsS0FBSytCLFFBQVUvQixLQUFLbUMsU0FBU2hCLGNBQWMseUJBQzNDbkIsS0FBS3NDLE9BQVN0QyxLQUFLbUMsU0FBU2hCLGNBQWMsbUJBQzFDbkIsS0FBS3VDLE1BQVF2QyxLQUFLbUMsU0FBU2hCLGNBQWMsbUJBQ3pDbkIsS0FBS3VDLE1BQU1ULFlBQWM5QixLQUFLQyxNQUM5QkQsS0FBS3NDLE9BQU9FLElBQU14QyxLQUFLQyxNQUN2QkQsS0FBS3NDLE9BQU9HLElBQU16QyxLQUFLRyxNQUN2QkgsS0FBSzBCLGFBQ0wxQixLQUFLc0IsdUJBQ0x0QixLQUFLMEMscUJBQ0UxQyxLQUFLbUMsUUFDaEIsQ0FHQVEsWUFDSTNDLEtBQUthLFNBQVViLEtBQUsrQixRQUFTL0IsS0FBS08sUUFFdEMsQ0FDQXFDLFdBQVdsQyxHQUNQVixLQUFLK0IsUUFBUUMsVUFBVWEsT0FBTywrQkFDOUI3QyxLQUFLNkIsU0FBU0MsWUFBY3BCLEVBQU1FLE1BQ3RDLENBRUFrQyxjQUdJOUMsS0FBS21DLFNBQVNZLFNBQ2QvQyxLQUFLbUMsU0FBVyxJQUNwQixDQU9BYSxVQUNJaEQsS0FBS0gsZ0JBQWdCRyxLQUFLQyxNQUFPRCxLQUFLRyxNQUMxQyxDQUVBdUMscUJBRUkxQyxLQUFLK0IsUUFBUWtCLGlCQUFpQixTQUFTLEtBQ25DakQsS0FBSzJDLFdBQVcsSUFJcEIzQyxLQUFLdUIsUUFBUTBCLGlCQUFpQixTQUFTLEtBQ25DakQsS0FBSzhDLGFBQWEsSUFFdEI5QyxLQUFLc0MsT0FBT1csaUJBQWlCLFNBQVMsS0FDbENqRCxLQUFLZ0QsU0FBUyxHQU90QixFQ3hHVyxNQUFNRSxFQUNqQnZELFlBQVl3RCxHQUVSbkQsS0FBS29ELE9BQVNsQyxTQUFTQyxjQUFjZ0MsR0FDckNuRCxLQUFLcUQsZ0JBQWtCckQsS0FBS3FELGdCQUFnQkMsS0FBS3RELE1BQ2pEQSxLQUFLdUQsa0JBQW9CdkQsS0FBS29ELE9BQU9qQyxjQUFjLGdCQUN2RCxDQUdBcUMsT0FDSXhELEtBQUtvRCxPQUFPcEIsVUFBVUMsSUFBSSxnQkFDMUJmLFNBQVMrQixpQkFBaUIsVUFBV2pELEtBQUtxRCxnQkFFOUMsQ0FFQUksUUFDSXpELEtBQUtvRCxPQUFPcEIsVUFBVWUsT0FBTyxnQkFDN0I3QixTQUFTd0Msb0JBQW9CLFVBQVcxRCxLQUFLcUQsZ0JBQ2pELENBRUFBLGdCQUFnQk0sR0FDSSxXQUFaQSxFQUFJQyxLQUNKNUQsS0FBS3lELE9BRWIsQ0FFQUksb0JBQ0k3RCxLQUFLb0QsT0FBT0gsaUJBQWlCLGFBQWNVLElBQ25DQSxFQUFJRyxTQUFXSCxFQUFJSSxlQUNuQi9ELEtBQUt5RCxPQUFPLElBRXBCekQsS0FBS3VELGtCQUFrQk4saUJBQWlCLFNBQVMsS0FDN0NqRCxLQUFLeUQsT0FBTyxHQUVwQixFQ2hDVyxNQUFNTyxVQUFzQmQsRUFDdkN2RCxZQUFZd0QsRUFBZWMsR0FDdkJDLE1BQU1mLEdBQ05uRCxLQUFLaUUsY0FBZ0JBLEVBQ3JCakUsS0FBS21FLE1BQVFuRSxLQUFLb0QsT0FBT2pDLGNBQWMsU0FDdkNuQixLQUFLb0UsT0FBU3BFLEtBQUtvRCxPQUFPaUIsaUJBQWlCLGVBQzNDckUsS0FBS3NFLFlBQWN0RSxLQUFLb0QsT0FBT2lCLGlCQUFpQix1QkFDcEQsQ0FDQVosUUFDSVMsTUFBTVQsUUFDTnpELEtBQUttRSxNQUFNSSxPQUNmLENBQ0FDLGtCQUtJLE9BSkp4RSxLQUFLeUUsT0FBUyxDQUFDLEVBQ1h6RSxLQUFLb0UsT0FBT3pDLFNBQVMrQyxJQUNqQjFFLEtBQUt5RSxPQUFPQyxFQUFNeEUsTUFBUXdFLEVBQU1DLEtBQUssSUFFbEMzRSxLQUFLeUUsTUFDaEIsQ0FDQUcsZ0JBQWdCQyxHQUNaN0UsS0FBS29FLE9BQU96QyxTQUFTK0MsSUFDbkJBLEVBQU1DLE1BQVFFLEVBQVNILEVBQU14RSxLQUFLLEdBRXRDLENBRUY0RSxVQUFhbkIsSUFDVEEsRUFBSW9CLGlCQUNKL0UsS0FBS2lFLGNBQWNqRSxLQUFLd0Usa0JBQWtCLEVBRzlDWCxvQkFDSUssTUFBTUwsb0JBQ043RCxLQUFLbUUsTUFBTWxCLGlCQUFpQixTQUFVakQsS0FBSzhFLFVBQy9DLEVDbkNHLE1BQU1FLEVBQW9CLENBQzdCQyxhQUFjLFFBQ2RDLGNBQWUsY0FDZkMscUJBQXNCLHVCQUN0QkMsb0JBQXFCLCtCQUNyQkMsZ0JBQWlCLG1CQUNqQkMsV0FBWSxnQkFHVCxNQUFNQyxFQUNUNUYsWUFBWTZGLEVBQVFDLEdBQ2hCekYsS0FBS2lGLGFBQWVRLEVBQ2hCekYsS0FBSzBGLGVBQWlCRixFQUFPTixjQUM3QmxGLEtBQUsyRixzQkFBd0JILEVBQU9MLHFCQUNwQ25GLEtBQUs0RixxQkFBdUJKLEVBQU9KLG9CQUNuQ3BGLEtBQUs2RixpQkFBbUJMLEVBQU9ILGdCQUMvQnJGLEtBQUs4RixZQUFjTixFQUFPRixXQUkxQnRGLEtBQUsrRixXQUFhQyxNQUFNQyxLQUFLakcsS0FBS2lGLGFBQWFaLGlCQUFpQnJFLEtBQUswRixpQkFDekUxRixLQUFLa0csY0FBZ0JsRyxLQUFLaUYsYUFBYTlELGNBQWNuQixLQUFLMkYsc0JBQzlELENBR0FRLGNBQWNDLEdBQ1ZBLEVBQU9wRSxVQUFVZSxPQUFPL0MsS0FBSzRGLHNCQUM3QlEsRUFBT0MsZ0JBQWdCLFdBQzNCLENBRUFDLGNBQWNGLEdBQ1ZBLEVBQU9wRSxVQUFVQyxJQUFJakMsS0FBSzRGLHNCQUMxQlEsRUFBT0csYUFBYSxZQUFZLEVBQ3BDLENBR0FDLGdCQUFnQjlCLEdBQ1osTUFBTStCLEVBQVl2RixTQUFTQyxjQUFlLElBQUd1RCxFQUFNZ0MsWUFDbkRoQyxFQUFNMUMsVUFBVUMsSUFBSWpDLEtBQUs2RixrQkFDekJZLEVBQVUzRSxZQUFjNEMsRUFBTWlDLGtCQUM5QkYsRUFBVXpFLFVBQVVDLElBQUlqQyxLQUFLOEYsWUFDakMsQ0FHQWMsZ0JBQWdCbEMsR0FDWixNQUFNK0IsRUFBWXZGLFNBQVNDLGNBQWUsSUFBR3VELEVBQU1nQyxZQUNuRGhDLEVBQU0xQyxVQUFVZSxPQUFPL0MsS0FBSzZGLGtCQUM1QlksRUFBVTNFLFlBQWMsR0FDeEIyRSxFQUFVekUsVUFBVWUsT0FBTy9DLEtBQUs4RixZQUNwQyxDQUVBZSxpQkFBaUJDLEdBQ2IsT0FBT0EsRUFBVUMsTUFBS0MsSUFBU0EsRUFBS0MsU0FBU0MsT0FDakQsQ0FFQUMsb0JBQW9CekMsR0FDWkEsRUFBTTBDLGdCQUNOcEgsS0FBSzRHLGdCQUFnQmxDLEdBRXJCMUUsS0FBS3dHLGdCQUFnQjlCLEVBRTdCLENBRUFiLG9CQUNPN0QsS0FBS3NHLGNBQWN0RyxLQUFLa0csZUFDdkJsRyxLQUFLK0YsV0FBV3BFLFNBQVErQyxJQUNwQkEsRUFBTXpCLGlCQUFpQixTQUFTLEtBQzVCakQsS0FBS3FILG9CQUNMckgsS0FBS21ILG9CQUFvQnpDLEVBQU0sR0FNakMsR0FFZCxDQUNBMkMsb0JBRVFySCxLQUFLNkcsaUJBQWlCN0csS0FBSytGLFlBQzNCL0YsS0FBS3NHLGNBQWN0RyxLQUFLa0csZUFFdkJsRyxLQUFLbUcsY0FBZW5HLEtBQUtrRyxjQUVsQyxDQUVBb0Isa0JBQ0l0SCxLQUFLcUgsb0JBRUxySCxLQUFLK0YsV0FBV3BFLFNBQVM0RixJQUN2QnZILEtBQUs0RyxnQkFBZ0JXLEVBQWEsR0FHdEMsQ0FFRkMsbUJBQ0l4SCxLQUFLNkQsbUJBQ1QsRUNqR0csTUE0QkQ0RCxFQUFtQnZHLFNBQVNDLGNBQWMsb0JBQzFDdUcsRUFBa0J4RyxTQUFTQyxjQUFjLG1CQUd6Q3dHLEdBRndCekcsU0FBU0MsY0FBYyxxQkFDM0JELFNBQVNDLGNBQWMsdUJBQ3RCRCxTQUFTQyxjQUFjLHVCQUc1Q3lHLEVBQXVCMUcsU0FBU0MsY0FBYyxZQUM5QzBHLEVBQTJCRCxFQUFxQnpHLGNBQWMseUJBQzlEMkcsRUFBMEJGLEVBQXFCekcsY0FBYyx3QkFJN0Q0RyxFQUFrQk4sRUFBaUJ0RyxjQUFjLFNBQ2pENkcsRUFBaUJOLEVBQWdCdkcsY0FBYyxTQUMvQzhHLEVBQW9CTixFQUFtQnhHLGNBQWMsU0MzQnJEK0csRUFBTSxJQ2hCRyxNQUNidkksWUFBWXdJLEdBQ1ZuSSxLQUFLb0ksS0FBT0QsRUFBUUUsUUFDcEJySSxLQUFLc0ksU0FBV0gsRUFBUUksUUFDeEJ2SSxLQUFLd0ksZUFBaUJMLEVBQVFJLFFBQVFFLGFBQ3hDLENBQ0FDLGVBQWVDLEdBQ2IsT0FBSUEsRUFBSUMsR0FDQ0QsRUFBSUUsT0FFTkMsUUFBUUMsT0FBUSx3QkFBdUJKLEVBQUlLLFNBQ3BELENBRUFDLFVBQ0UsT0FBT0MsTUFBTyxHQUFFbEosS0FBS29JLGdCQUFpQixDQUNwQ0csUUFBUyxDQUNQRSxjQUFlekksS0FBS3dJLGVBQ3BCLGVBQWdCLHNCQUdqQlcsS0FBS25KLEtBQUswSSxlQUVmLENBQ0FVLFVBQ0UsT0FBT0YsTUFBTyxHQUFFbEosS0FBS29JLGFBQWMsQ0FDakNHLFFBQVMsQ0FDUEUsY0FBZXpJLEtBQUt3SSxlQUNwQixlQUFnQixzQkFHakJXLEtBQUtuSixLQUFLMEksZUFDZixDQUNBVyxZQUFZQyxHQUNWLE9BQU9KLE1BQU8sR0FBRWxKLEtBQUtvSSxnQkFBaUIsQ0FDcENtQixPQUFRLFFBQ1JoQixRQUFTdkksS0FBS3NJLFNBQ2RrQixLQUFNQyxLQUFLQyxVQUFVLENBQ25CeEosS0FBTW9KLEVBQUtLLFVBQ1hDLE1BQU9OLEVBQUtPLGdCQUdiVixLQUFLbkosS0FBSzBJLGVBQ2YsQ0FDQW9CLGNBQWNSLEdBQ1osT0FBT0osTUFBTyxHQUFFbEosS0FBS29JLHVCQUF3QixDQUMzQ21CLE9BQVEsUUFDUmhCLFFBQVN2SSxLQUFLc0ksU0FDZGtCLEtBQU1DLEtBQUtDLFVBQVUsQ0FDbkJLLE9BQVFULEVBQUtTLFdBR2hCWixLQUFLbkosS0FBSzBJLGVBQ2IsQ0FDQXNCLFFBQVFWLEdBQ04sT0FBT0osTUFBTyxHQUFFbEosS0FBS29JLGFBQWMsQ0FDakNtQixPQUFRLE9BQ1JoQixRQUFTdkksS0FBS3NJLFNBQ2RrQixLQUFNQyxLQUFLQyxVQUFVLENBQ25CeEosS0FBTW9KLEVBQUtXLE1BQ1g3SixLQUFNa0osRUFBS2xKLFNBR2QrSSxLQUFLbkosS0FBSzBJLGVBQ2IsQ0FDQXdCLFFBQVFDLEdBQ04sT0FBT2pCLE1BQU8sR0FBRWxKLEtBQUtvSSxjQUFjK0IsVUFBZ0IsQ0FDakRaLE9BQVEsTUFDUmhCLFFBQVMsQ0FDVEUsY0FBZXpJLEtBQUt3SSxrQkFHckJXLEtBQUtuSixLQUFLMEksZUFDYixDQUNBMEIsV0FBV0QsR0FDVCxPQUFPakIsTUFBTyxHQUFFbEosS0FBS29JLGNBQWMrQixVQUFnQixDQUNqRFosT0FBUSxTQUNSaEIsUUFBUyxDQUNURSxjQUFlekksS0FBS3dJLGtCQUdyQlcsS0FBS25KLEtBQUswSSxlQUNiLEdEakVrQixDQUNoQkwsUUFBUyw4Q0FDVEUsUUFBUyxDQUNMRSxjQUFlLHVDQUNmLGVBQWdCLHNCQWNsQjRCLEVBQXdCLElFaENmLGNBQTZCbkgsRUFDMUN2RCxZQUFZd0QsR0FDVmUsTUFBTWYsR0FDTm5ELEtBQUtzQyxPQUFTdEMsS0FBS29ELE9BQU9qQyxjQUFjLGlCQUN4Q25CLEtBQUt1QyxNQUFRdkMsS0FBS29ELE9BQU9qQyxjQUFjLGVBQ3pDLENBRUFxQyxLQUFPQSxDQUFDdEQsRUFBTUUsS0FDWkosS0FBS3VDLE1BQU1ULFlBQWM1QixFQUN6QkYsS0FBS3NDLE9BQU9FLElBQU10QyxFQUNsQkYsS0FBS3NDLE9BQU9HLElBQU1yQyxFQUNsQjhELE1BQU1WLE1BQU0sR0ZtQnNCLHFCQUd0QzZHLEVBQXNCeEcsb0JBS3RCLE1BS015RyxFQUFXLElHN0NGLE1BQ1AzSyxZQUFZNkYsR0FDSnhGLEtBQUt1SyxhQUFlckosU0FBU0MsY0FBY3FFLEVBQU9nRixjQUNsRHhLLEtBQUt5SyxhQUFldkosU0FBU0MsY0FBY3FFLEVBQU9rRixhQUNsRDFLLEtBQUsySyxlQUFpQnpKLFNBQVNDLGNBQWNxRSxFQUFPb0YsZUFFeEQsQ0FFSkMsY0FDSSxNQUFPLENBQ0hsQixVQUFZM0osS0FBS3VLLGFBQWF6SSxZQUM5QitILFlBQWE3SixLQUFLeUssYUFBYTNJLFlBRW5DLENBR0pnSixhQUFZLE9BQUNmLEVBQU0sVUFBRUosRUFBUyxZQUFFRSxJQUN4QjdKLEtBQUsySyxlQUFlbEksSUFBTXNILEVBQzFCL0osS0FBS3VLLGFBQWF6SSxZQUFjNkgsRUFDaEMzSixLQUFLeUssYUFBYTNJLFlBQWMrSCxDQUNuQyxHSG9CRSxDQUNYVyxhQUFjLGtCQUNkRSxZQUFhLHFCQUNiRSxlQUFnQixxQkFLZEcsRUFBb0IsSUFBSS9HLEVBREcsb0JBR2pDLFNBQXdCc0YsR0FDcEJwQixFQUFJbUIsWUFBWUMsR0FDWEgsTUFBS1IsSUFDRjJCLEVBQVNRLFlBQVksQ0FBRWYsT0FBUXBCLEVBQUlvQixPQUFRSixVQUFXaEIsRUFBSXpJLEtBQU0ySixZQUFhbEIsRUFBSWlCLE9BQVEsSUFFNUZvQixPQUFPQyxHQUFTN0ksUUFBUTZJLE1BQU8sNkJBQTRCQSxPQUVoRUYsRUFBa0J0SCxPQUN0QixJQUNBc0gsRUFBa0JsSCxvQkFFbEJnRSxFQUF5QjVFLGlCQUFpQixTQUMxQyxXQUNJOEgsRUFBa0JuRyxnQkFBZ0IwRixFQUFTTyxlQUMzQ3pJLFFBQVFDLElBQUlpSSxFQUFTTyxlQUNyQkUsRUFBa0J2SCxNQUN0QixJQVVBLE1BQ00wSCxFQUFvQixJQUFJbEgsRUFERSxtQkFHaEMsU0FBdUJzRixHQUNuQmxILFFBQVFDLElBQUksUUFDWnlHLFFBQVFxQyxJQUFJLENBQUNqRCxFQUFJZSxVQUFXZixFQUFJOEIsUUFBUVYsS0FDbkNILE1BQUssRUFBRXRFLEVBQVV1RyxNQUNkaEosUUFBUUMsSUFBSStJLEdBQ1pBLEVBQVM5SyxLQUFPdUUsRUFBU3JFLElBQ3pCNkssRUFBaUJDLFFBQVFDLEVBQVdILElBQ3BDRixFQUFrQnpILE9BQU8sSUFFNUJ1SCxPQUFPQyxHQUFTN0ksUUFBUTZJLE1BQU8sZ0NBQStCQSxNQUN2RSxJQUNBQyxFQUFrQnJILG9CQUlsQmlFLEVBQXdCN0UsaUJBQWlCLFNBQ3pDLFdBQ0lpSSxFQUFrQjFILE1BQ3RCLElBR0EsTUFDTWdJLEVBQWMsSUFBSXhILEVBRFcsc0JBR25DLFNBQTBCc0YsR0FDdEJwQixFQUFJNEIsY0FBY1IsR0FDYkgsTUFBS1IsSUFDRnZHLFFBQVFDLElBQUlzRyxHQUNaMkIsRUFBU1EsWUFBWSxDQUFFZixPQUFRcEIsRUFBSW9CLE9BQVFKLFVBQVdoQixFQUFJekksS0FBTTJKLFlBQWFsQixFQUFJaUIsT0FBUSxJQUU1Rm9CLE9BQU9DLEdBQVM3SSxRQUFRNkksTUFBTyxxQ0FBb0NBLE9BRXhFTyxFQUFZL0gsUUFDWnJCLFFBQVFDLElBQUksUUFDaEIsSUFDQW1KLEVBQVkzSCxvQkFFWixNQUFNNEgsRUFBZXZLLFNBQVNDLGNBQWMsMkJBYTVDLFNBQVNvSyxFQUFXdkUsR0FDaEIsTUFBTTBFLEVBQVEsSUFBSWhNLEVBQUtzSCxFQUFNcUQsRUFDeEI3RyxLQUFNLHNCQUFzQixDQUFDbUksRUFBYXhCLEtBQ25Dd0IsRUFBWTNKLFVBQVU0SixTQUFTLCtCQUMvQjFELEVBQUlrQyxXQUFXRCxHQUNWaEIsTUFBS1IsSUFDRnZHLFFBQVFDLElBQUlzRyxHQUNaK0MsRUFBTTlJLFdBQVcrRixFQUFJakksTUFBTSxJQUU5QnNLLE9BQU9DLEdBQVM3SSxRQUFRNkksTUFBTyw2QkFBNEJBLE9BRWhFL0MsRUFBSWdDLFFBQVFDLEdBQ1hoQixNQUFLUixJQUNGdkcsUUFBUUMsSUFBSXNHLEdBQ1orQyxFQUFNOUksV0FBVytGLEVBQUlqSSxNQUFNLElBRTlCc0ssT0FBT0MsR0FBUzdJLFFBQVE2SSxNQUFPLDRCQUEyQkEsTUFDL0QsSUFHUixPQURvQlMsRUFBTXhKLGNBRTlCLENBakNBRSxRQUFRQyxJQUFJb0osR0FFWkEsRUFBYXhJLGlCQUFpQixTQUM5QixXQUNJdUksRUFBWWhJLE1BQ2hCLElBNkJBLE1BQ002SCxFQUFtQixJSXRKVixNQUNYMUwsWUFBWWtNLEVBQVVDLEdBR2xCOUwsS0FBSzZMLFNBQVdBLEVBQ2hCN0wsS0FBSytMLFdBQWE3SyxTQUFTQyxjQUFjMkssRUFDN0MsQ0FDQVIsUUFBUTFKLEdBRUw1QixLQUFLK0wsV0FBV0MsUUFBUXBLLEVBQzNCLENBQ0FxSyxZQUFZM0MsR0FFUkEsRUFBSzNILFNBQVFxRixJQUNUaEgsS0FBSzZMLFNBQVM3RSxFQUFLLEdBRXZCLElKc0k4QkEsSUFDbENxRSxFQUFpQkMsUUFBUUMsRUFBV3ZFLEdBQU0sR0FGckIsNEJBVW5Ca0YsRUFBb0IsSUFBSTNHLEVBQWNQLEVBQWtCK0MsR0FDeERvRSxFQUFtQixJQUFJNUcsRUFBY1AsRUFBa0JnRCxHQUN2RG9FLEVBQXNCLElBQUk3RyxFQUFjUCxFQUFrQmlELEdBR2hFaUUsRUFBa0IxRSxtQkFDbEIyRSxFQUFpQjNFLG1CQUNqQjRFLEVBQW9CNUUsbUJBRXBCc0IsUUFBUXFDLElBQUksQ0FBQ2pELEVBQUllLFVBQVdmLEVBQUlrQixZQUMzQkQsTUFBSyxFQUFFdEUsRUFBVXVHLE1BQ2RoSixRQUFRQyxJQUFJK0ksR0FDWkEsRUFBU3pKLFNBQVFDLElBQ2JBLEVBQVF0QixLQUFPdUUsRUFBU3JFLEdBQUcsSUFFL0I0QixRQUFRQyxJQUFJd0MsR0FDWnlGLEVBQVNRLFlBQVksQ0FBRWYsT0FBUWxGLEVBQVNrRixPQUFRSixVQUFXOUUsRUFBUzNFLEtBQU0ySixZQUFhaEYsRUFBUytFLFFBQ2hHeUIsRUFBaUJZLFlBQVliLEVBQVMsSUFFekNKLE9BQU9DLEdBQVU3SSxRQUFRNkksTUFBTyx3Q0FBdUNBLE0iLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3V0aWxzL2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9wYWdlcy9pbmRleC5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL0FwaS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9TZWN0aW9uLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGNsYXNzIENhcmQge1xyXG4gICAgY29uc3RydWN0b3IoY2FyZERhdGEsIGhhbmRsZUNhcmRDbGljaywgdGVtcGxhdGVTZWxlY3RvciwgcHV0TGlrZSkge1xyXG5cclxuICAgICAgICB0aGlzLl9uYW1lID0gY2FyZERhdGEubmFtZTtcclxuICAgICAgICB0aGlzLl9saW5rID0gY2FyZERhdGEubGluaztcclxuICAgICAgICB0aGlzLl9teWlkID0gY2FyZERhdGEubXlpZDtcclxuICAgICAgICB0aGlzLl9jYXJkSWQgPSBjYXJkRGF0YS5faWRcclxuICAgICAgICB0aGlzLl9saWtlcyA9IGNhcmREYXRhLmxpa2VzO1xyXG4gICAgICAgIHRoaXMuX2xpa2VzTGVuZ3RoID0gY2FyZERhdGEubGlrZXMubGVuZ3RoO1xyXG4gICAgICAgIHRoaXMuX3B1dExpa2UgPSBwdXRMaWtlO1xyXG4gICAgICAgIHRoaXMuX293bmVySWQgPSBjYXJkRGF0YS5vd25lci5faWQ7XHJcbiAgICAgICAgdGhpcy5fdGVtcGxhdGVTZWxlY3RvciA9IHRlbXBsYXRlU2VsZWN0b3I7XHJcbiAgICAgICAgdGhpcy5oYW5kbGVDYXJkQ2xpY2sgPSBoYW5kbGVDYXJkQ2xpY2s7XHJcbiAgICAgICAgLy8gdGhpcy5faGFuZGxlRGVsZXRDYXJkID0gaGFuZGxlRGVsZXRDYXJkOyBcclxuICAgICAgICAvLyAgY29uc29sZS5sb2codGhpcy5fbXlpZCk7XHJcbiAgICAgICAgLy8gIGNvbnNvbGUubG9nKHRoaXMuX293bmVySWQpO1xyXG4gICAgfVxyXG4gICAgX2dldFRlbXBsYXRlKCkge1xyXG4gICAgICAgIC8vINC30LDQsdC40YDQsNC10Lwg0YDQsNC30LzQtdGC0LrRgyDQuNC3IEhUTUwg0Lgg0LrQu9C+0L3QuNGA0YPQtdC8INGN0LvQtdC80LXQvdGCXHJcbiAgICAgICAgY29uc3QgY2FyZEVsZW1lbnQgPSBkb2N1bWVudFxyXG4gICAgICAgICAgICAucXVlcnlTZWxlY3Rvcih0aGlzLl90ZW1wbGF0ZVNlbGVjdG9yKVxyXG4gICAgICAgICAgICAuY29udGVudFxyXG4gICAgICAgICAgICAucXVlcnlTZWxlY3RvcignLmVsZW1lbnQnKVxyXG4gICAgICAgICAgICAuY2xvbmVOb2RlKHRydWUpO1xyXG4gICAgICAgIHJldHVybiBjYXJkRWxlbWVudDtcclxuICAgIH1cclxuICAgIF92aXNpYmxlRGVsZXRlQnV0dG9uKCkge1xyXG4gICAgICAgIGlmICh0aGlzLl9teWlkID09PSB0aGlzLl9vd25lcklkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2RldGV0ZS5zdHlsZS52aXNpYmlsaXR5ID0gJ3Zpc2libGUnXHJcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLl9teWlkICE9PSB0aGlzLl9vd25lcklkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2RldGV0ZS5zdHlsZS52aXNpYmlsaXR5ID0gJ2hpZGRlbidcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfY291bnRMaWtlKCkge1xyXG4gICAgICAgIHRoaXMuX2xpa2VzLmZvckVhY2goZWxlbWVudCA9PiB7XHJcbiAgICAgICAgICAgIGlmIChlbGVtZW50Ll9pZCA9PT0gdGhpcy5fbXlpZCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fYnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2VsZW1lbnRfX2xpa2UtYnV0dG9uX2FjdGl2ZScpXHJcbiAgICAgICAgICAgICAgICByZXR1cm5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICB0aGlzLl9jb3VudGVyLnRleHRDb250ZW50ID0gIHRoaXMuX2xpa2VzTGVuZ3RoXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2VuZXJhdGVDYXJkKCkge1xyXG4gICAgICAgIHRoaXMuX2VsZW1lbnQgPSB0aGlzLl9nZXRUZW1wbGF0ZSgpO1xyXG4gICAgICAgIHRoaXMuX2NvdW50ZXIgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50X19saWtlLWNvdW50JylcclxuICAgICAgICBjb25zb2xlLmxvZyh0aGlzLl9jb3VudGVyKTtcclxuICAgICAgICB0aGlzLl9kZXRldGUgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50X19kZWxldGUnKVxyXG4gICAgICAgIHRoaXMuX2J1dHRvbiA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRfX2xpa2UtYnV0dG9uJylcclxuICAgICAgICB0aGlzLl9pbWFnZSA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRfX2ltYWdlJylcclxuICAgICAgICB0aGlzLl90ZXh0ID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudF9fdGl0bGUnKVxyXG4gICAgICAgIHRoaXMuX3RleHQudGV4dENvbnRlbnQgPSB0aGlzLl9uYW1lO1xyXG4gICAgICAgIHRoaXMuX2ltYWdlLmFsdCA9IHRoaXMuX25hbWU7XHJcbiAgICAgICAgdGhpcy5faW1hZ2Uuc3JjID0gdGhpcy5fbGluaztcclxuICAgICAgICB0aGlzLl9jb3VudExpa2UoKVxyXG4gICAgICAgIHRoaXMuX3Zpc2libGVEZWxldGVCdXR0b24oKVxyXG4gICAgICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKClcclxuICAgICAgICByZXR1cm4gdGhpcy5fZWxlbWVudDtcclxuICAgIH1cclxuXHJcbiAgICAvLyDQpNGD0L3QutGG0LjRjyDQu9Cw0LnQutCwXHJcbiAgICBfbGlrZUNhcmQoKSB7XHJcbiAgICAgICAgdGhpcy5fcHV0TGlrZSAodGhpcy5fYnV0dG9uLCB0aGlzLl9jYXJkSWQpXHJcbiAgICAgICAgLy8gdGhpcy5fYnV0dG9uLmNsYXNzTGlzdC50b2dnbGUoJ2VsZW1lbnRfX2xpa2UtYnV0dG9uX2FjdGl2ZScpXHJcbiAgICB9O1xyXG4gICAgdG9nZ2xlTGlrZShsaWtlcyl7XHJcbiAgICAgICAgdGhpcy5fYnV0dG9uLmNsYXNzTGlzdC50b2dnbGUoJ2VsZW1lbnRfX2xpa2UtYnV0dG9uX2FjdGl2ZScpXHJcbiAgICAgICAgdGhpcy5fY291bnRlci50ZXh0Q29udGVudCA9IGxpa2VzLmxlbmd0aFxyXG4gICAgfVxyXG4gICAgLy/QpNGD0L3QutGG0LjRjyDRg9C00LDQu9C10L3QuNGPXHJcbiAgICBfZGVsZXRlQ2FyZCgpIHtcclxuICAgICAgICAvL3RoaXMuX2RldGV0ZSA9IHRoaXMuX2RldGV0ZS5jbG9zZXN0KCcuZWxlbWVudCcpXHJcbiAgICAgICAgLy90aGlzLl9kZXRldGUucmVtb3ZlKClcclxuICAgICAgICB0aGlzLl9lbGVtZW50LnJlbW92ZSgpO1xyXG4gICAgICAgIHRoaXMuX2VsZW1lbnQgPSBudWxsXHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8vINCk0YPQvdC60YbQuNGPINC+0YLQutGA0YvRgtC40Y8g0LrQsNGA0YLQuNC90LrQuCBcclxuICAgIC8vIGhhbmRsZUNhcmRDbGljaygpe1xyXG4gICAgLy8gICAgIHRoaXMuX2ltYWdlLm9wZW4oKVxyXG4gICAgLy8gfVxyXG4gICAgb3BlbkltZygpIHtcclxuICAgICAgICB0aGlzLmhhbmRsZUNhcmRDbGljayh0aGlzLl9uYW1lLCB0aGlzLl9saW5rKVxyXG4gICAgfVxyXG4gICAgLy/RgdC70YPRiNCw0YLQtdC70LhcclxuICAgIF9zZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgICAgICAvL9GB0LvRg9GI0LDRgtC10LvRjCDQu9Cw0LnQutCwXHJcbiAgICAgICAgdGhpcy5fYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLl9saWtlQ2FyZCgpXHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgLy/RgdC70YPRiNCw0YLQtdC70Ywg0YPQtNCw0LvRj9C70LrQuFxyXG4gICAgICAgIHRoaXMuX2RldGV0ZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5fZGVsZXRlQ2FyZCgpXHJcbiAgICAgICAgfSlcclxuICAgICAgICB0aGlzLl9pbWFnZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5vcGVuSW1nKClcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gdGhpcy5fZGV0ZXRlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICAgIC8vICAgICB0aGlzLl9oYW5kbGVEZWxldENhcmQoKVxyXG4gICAgICAgIC8vIH0pXHJcblxyXG4gICAgfVxyXG59XHJcblxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cCB7XHJcbiAgICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XHJcbiAgICAgICAgLy90aGlzLl9wb3B1cCA9IHBvcHVwU2VsZWN0b3I7XHJcbiAgICAgICAgdGhpcy5fcG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgICAgIHRoaXMuX2hhbmRsZUVzY0Nsb3NlID0gdGhpcy5faGFuZGxlRXNjQ2xvc2UuYmluZCh0aGlzKTtcclxuICAgICAgICB0aGlzLl9wb3B1cENsb3NlQnV0dG9uID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19jbG9zZScpO1xyXG4gICAgfVxyXG5cclxuICAgIC8v0J7RgtC60YDRi9GC0LjQtSDQv9C+0L/QsNC/Ly9cclxuICAgIG9wZW4oKSB7XHJcbiAgICAgICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LmFkZChcInBvcHVwX29wZW5lZFwiKVxyXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKVxyXG5cclxuICAgIH1cclxuICAgIC8v0JfQsNC60YDRi9GC0LjQtSDQv9C+0L/QsNC/Ly9cclxuICAgIGNsb3NlKCkge1xyXG4gICAgICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5yZW1vdmUoXCJwb3B1cF9vcGVuZWRcIilcclxuICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSlcclxuICAgIH1cclxuICAgIC8v0JfQsNC60YDRi9GC0LjQtSDQv9C+0L/QsNC/IEVzYy8vXHJcbiAgICBfaGFuZGxlRXNjQ2xvc2UoZXZ0KSB7XHJcbiAgICAgICAgaWYgKGV2dC5rZXkgPT09IFwiRXNjYXBlXCIpIHtcclxuICAgICAgICAgICAgdGhpcy5jbG9zZSgpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy/QodC70YPRiNCw0YLQtdC70Ywg0LfQsNC60YDRi9GC0LjRjywg0L3QsNC20LjQvNCw0Y8g0L3QsCDRgtC10LzQvS7RjdC60YDQsNC9INC4INC30LDQutGA0YvRgtC40LUg0L3QsCDQutC90L7Qv9C60YMg0LrRgNC10YHRgtC40LovL1xyXG4gICAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICAgICAgdGhpcy5fcG9wdXAuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgKGV2dCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoZXZ0LnRhcmdldCA9PT0gZXZ0LmN1cnJlbnRUYXJnZXQpXHJcbiAgICAgICAgICAgICAgICB0aGlzLmNsb3NlKClcclxuICAgICAgICB9KVxyXG4gICAgICAgIHRoaXMuX3BvcHVwQ2xvc2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuY2xvc2UoKVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IFBvcHVwIGZyb20gJy4vUG9wdXAuanMnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcclxuICAgIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IsIGZvcm1TdWJtaXRBZGQpIHtcclxuICAgICAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcclxuICAgICAgICB0aGlzLmZvcm1TdWJtaXRBZGQgPSBmb3JtU3VibWl0QWRkO1xyXG4gICAgICAgIHRoaXMuX2Zvcm0gPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKCcuZm9ybScpO1xyXG4gICAgICAgIHRoaXMuX2lucHV0ID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvckFsbCgnLmZvcm1fX2l0ZW0nKTtcclxuICAgICAgICB0aGlzLl9mb3JtQnV0dG9uID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvckFsbCgnLnBvcHVwX19zYXZlZC1idXR0b24nKTtcclxuICAgIH1cclxuICAgIGNsb3NlKCkge1xyXG4gICAgICAgIHN1cGVyLmNsb3NlKClcclxuICAgICAgICB0aGlzLl9mb3JtLnJlc2V0KCk7XHJcbiAgICB9XHJcbiAgICBfZ2V0SW5wdXRWYWx1ZXMoKSB7XHJcbiAgICB0aGlzLnZhbHVlcyA9IHt9O1xyXG4gICAgICAgIHRoaXMuX2lucHV0LmZvckVhY2goKGlucHV0KSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMudmFsdWVzW2lucHV0Lm5hbWVdID0gaW5wdXQudmFsdWU7XHJcbiAgICAgICAgfSlcclxuICAgICAgICByZXR1cm4gdGhpcy52YWx1ZXM7XHJcbiAgICB9XHJcbiAgICBzZXRJbnB1dHNWYWx1ZXMoZGF0YVVzZXIpIHtcclxuICAgICAgICB0aGlzLl9pbnB1dC5mb3JFYWNoKChpbnB1dCkgPT4ge1xyXG4gICAgICAgICAgaW5wdXQudmFsdWUgPSBkYXRhVXNlcltpbnB1dC5uYW1lXTtcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG5cclxuICAgIF9vblN1Ym1pdCA9IChldnQpID0+IHtcclxuICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICB0aGlzLmZvcm1TdWJtaXRBZGQodGhpcy5fZ2V0SW5wdXRWYWx1ZXMoKSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgICAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgICAgIHRoaXMuX2Zvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgdGhpcy5fb25TdWJtaXQpIFxyXG4gICAgfVxyXG5cclxuICAgIC8vIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgLy8gICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICAvLyAgICAgdGhpcy5fZm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCAoZXZ0KSA9PiB7XHJcbiAgICAvLyAgICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgLy8gICAgICAgICB0aGlzLmZvcm1TdWJtaXRBZGQodGhpcy5fZ2V0SW5wdXRWYWx1ZXMoKSk7XHJcbiAgICAvLyAgICAgfSlcclxuICAgICAgIC8vIHRoaXMuX2Zvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgdGhpcy5mb3JtU3VibWl0QWRkKVxyXG4gICAgICAgIC8vIChldnQpID0+IHsgXHJcbiAgICAgICAgLy8gICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIC8vICAgICB0aGlzLl9mb3JtU3VibWl0QWRkKHRoaXMuZ2V0SW5wdXRWYWx1ZXMoKSk7XHJcbiAgICAgICAgLy8gICAgIHRoaXMuY2xvc2UoKVxyXG4gICAgICAgIC8vIH0pXHJcbiAgICB9XHJcbiAgICAgICAgXHJcblxyXG4gICAgXHJcblxyXG4iLCJleHBvcnQgY29uc3QgdmFsaWRhdGlvbkNvbmZpZyA9ICh7XHJcbiAgICBmb3JtU2VsZWN0b3I6ICcuZm9ybScsXHJcbiAgICBpbnB1dFNlbGVjdG9yOiAnLmZvcm1fX2l0ZW0nLFxyXG4gICAgc3VibWl0QnV0dG9uU2VsZWN0b3I6ICcucG9wdXBfX3NhdmVkLWJ1dHRvbicsXHJcbiAgICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiAncG9wdXBfX3NhdmVkLWJ1dHRvbl9kaXNhYmxlZCcsXHJcbiAgICBpbnB1dEVycm9yQ2xhc3M6ICdmb3JtX19pdGVtLWVycm9yJyxcclxuICAgIGVycm9yQ2xhc3M6ICdlcnJvcl9vcGVuZWQnXHJcbn0pO1xyXG5cclxuZXhwb3J0IGNsYXNzIEZvcm1WYWxpZGF0b3Ige1xyXG4gICAgY29uc3RydWN0b3IoY29uZmlnLCBmb3JtKSB7XHJcbiAgICAgICAgdGhpcy5mb3JtU2VsZWN0b3IgPSBmb3JtLFxyXG4gICAgICAgICAgICB0aGlzLl9pbnB1dFNlbGVjdG9yID0gY29uZmlnLmlucHV0U2VsZWN0b3IsXHJcbiAgICAgICAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yID0gY29uZmlnLnN1Ym1pdEJ1dHRvblNlbGVjdG9yLFxyXG4gICAgICAgICAgICB0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzID0gY29uZmlnLmluYWN0aXZlQnV0dG9uQ2xhc3MsXHJcbiAgICAgICAgICAgIHRoaXMuX2lucHV0RXJyb3JDbGFzcyA9IGNvbmZpZy5pbnB1dEVycm9yQ2xhc3MsXHJcbiAgICAgICAgICAgIHRoaXMuX2Vycm9yQ2xhc3MgPSBjb25maWcuZXJyb3JDbGFzcyxcclxuXHJcbiAgICAgICAgICAgIC8vdGhpcy5fZm9ybSA9IEFycmF5LmZyb20odGhpcy5mb3JtU2VsZWN0b3IucXVlcnlTZWxlY3RvckFsbCh0aGlzLl9pbnB1dFNlbGVjdG9yKSlcclxuICAgICAgICAgICAgLy9jb25zb2xlLmxvZyh0aGlzLl9mb3JtKVxyXG4gICAgICAgICAgICB0aGlzLl9pbnB1dExpc3QgPSBBcnJheS5mcm9tKHRoaXMuZm9ybVNlbGVjdG9yLnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5faW5wdXRTZWxlY3RvcikpXHJcbiAgICAgICAgdGhpcy5fc3VibWl0QnV0dG9uID0gdGhpcy5mb3JtU2VsZWN0b3IucXVlcnlTZWxlY3Rvcih0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3RvcilcclxuICAgIH1cclxuXHJcbiAgICAvLyDQutC90L7Qv9C60LAg0LDQutGC0LjQslxyXG4gICAgX2VuYWJsZUJ1dHRvbihidXR0b24pIHtcclxuICAgICAgICBidXR0b24uY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKVxyXG4gICAgICAgIGJ1dHRvbi5yZW1vdmVBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiKVxyXG4gICAgfVxyXG4gICAgLy8g0LrQvdC+0L/QutCwINC90LXQsNC60YLQuNCyXHJcbiAgICBkaXNhYmxlQnV0dG9uKGJ1dHRvbikge1xyXG4gICAgICAgIGJ1dHRvbi5jbGFzc0xpc3QuYWRkKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpXHJcbiAgICAgICAgYnV0dG9uLnNldEF0dHJpYnV0ZShcImRpc2FibGVkXCIsIHRydWUpXHJcbiAgICB9XHJcblxyXG4gICAgLy8g0KTRg9C90LrRhtC40Y8gINC/0L7Qu9GPIGMg0L7RiNC40LHQutC+0LlcclxuICAgIF9zaG93SW5wdXRFcnJvcihpbnB1dCkge1xyXG4gICAgICAgIGNvbnN0IGZvcm1FcnJvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCMke2lucHV0LmlkfS1lcnJvcmApO1xyXG4gICAgICAgIGlucHV0LmNsYXNzTGlzdC5hZGQodGhpcy5faW5wdXRFcnJvckNsYXNzKTtcclxuICAgICAgICBmb3JtRXJyb3IudGV4dENvbnRlbnQgPSBpbnB1dC52YWxpZGF0aW9uTWVzc2FnZVxyXG4gICAgICAgIGZvcm1FcnJvci5jbGFzc0xpc3QuYWRkKHRoaXMuX2Vycm9yQ2xhc3MpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyAgLy8g0KTRg9C90LrRhtC40Y8gINC/0L7Qu9GPINCx0LXQtyDQvtGI0LjQsdC60LhcclxuICAgIF9oaWRlSW5wdXRFcnJvcihpbnB1dCkge1xyXG4gICAgICAgIGNvbnN0IGZvcm1FcnJvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCMke2lucHV0LmlkfS1lcnJvcmApO1xyXG4gICAgICAgIGlucHV0LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5wdXRFcnJvckNsYXNzKTtcclxuICAgICAgICBmb3JtRXJyb3IudGV4dENvbnRlbnQgPSBcIlwiXHJcbiAgICAgICAgZm9ybUVycm9yLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fZXJyb3JDbGFzcyk7XHJcbiAgICB9O1xyXG5cclxuICAgIF9oYXNJbnZhbGlkSW5wdXQoZm9ybUlucHV0KSB7XHJcbiAgICAgICAgcmV0dXJuIGZvcm1JbnB1dC5zb21lKGl0ZW0gPT4gIWl0ZW0udmFsaWRpdHkudmFsaWQpXHJcbiAgICB9XHJcblxyXG4gICAgX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dCkge1xyXG4gICAgICAgIGlmIChpbnB1dC5jaGVja1ZhbGlkaXR5KCkpIHtcclxuICAgICAgICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXQpXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5fc2hvd0lucHV0RXJyb3IoaW5wdXQpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy8gLy/RhNGD0L3QutGG0LjRjyDRgdC70YPRiNCw0YLQtdC70LXQuVxyXG4gICAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICAgICAgICAgdGhpcy5kaXNhYmxlQnV0dG9uKHRoaXMuX3N1Ym1pdEJ1dHRvbilcclxuICAgICAgICAgICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goaW5wdXQgPT4ge1xyXG4gICAgICAgICAgICAgICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50b2dnbGVCdXR0b25TdGF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dClcclxuICAgICAgICAgICAgLy8gICAgICAgICAvLyBpZiAodGhpcy5faGFzSW52YWxpZElucHV0KHRoaXMuX2lucHV0TGlzdCkpIHtcclxuICAgICAgICAgICAgLy8gICAgICAgICAvLyAgICAgdGhpcy5fZGlzYWJsZUJ1dHRvbih0aGlzLl9zdWJtaXRCdXR0b24pXHJcbiAgICAgICAgICAgIC8vICAgICAgICAgLy8gfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gICAgICAgICAvLyAgICAgdGhpcy5fZW5hYmxlQnV0dG9uKHRoaXMuX3N1Ym1pdEJ1dHRvbilcclxuICAgICAgICAgICAgLy8gICAgICAgICAvLyB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSlcclxuICAgIH07XHJcbiAgICB0b2dnbGVCdXR0b25TdGF0ZSgpe1xyXG4gICAgXHJcbiAgICAgICAgaWYgKHRoaXMuX2hhc0ludmFsaWRJbnB1dCh0aGlzLl9pbnB1dExpc3QpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZGlzYWJsZUJ1dHRvbih0aGlzLl9zdWJtaXRCdXR0b24pXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgKHRoaXMuX2VuYWJsZUJ1dHRvbigodGhpcy5fc3VibWl0QnV0dG9uKSkpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICByZXNldFZhbGlkYXRpb24oKSB7XHJcbiAgICAgICAgdGhpcy50b2dnbGVCdXR0b25TdGF0ZSgpOyBcclxuICBcclxuICAgICAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XHJcbiAgICAgICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpXHJcbiAgICAgICAgfSk7XHJcbiAgXHJcbiAgICAgIH1cclxuICAgIC8vICAgLy/RhNGD0L3QutGG0LjRjyDQt9Cw0L/Rg9GB0LrQsCDQstGL0LvQuNC00LDRhtC40LhcclxuICAgIGVuYWJsZVZhbGlkYXRpb24oKSB7XHJcbiAgICAgICAgdGhpcy5zZXRFdmVudExpc3RlbmVycygpXHJcbiAgICB9XHJcbn1cclxuXHJcbiIsImV4cG9ydCBjb25zdCBpbml0aWFsQ2FyZHMgPSBbXHJcbiAgICB7XHJcbiAgICAgICAgdGl0bGU6ICfQodCw0YXQsNC70LjQvScsXHJcbiAgICAgICAgbGluazogJ2h0dHBzOi8vbGl2ZS5zdGF0aWNmbGlja3IuY29tLzY1NTM1LzUxNjY0MzEzNzA1XzU3MTM3OTEyNTdfay5qcGcnXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHRpdGxlOiAn0JTQsNCz0LXRgdGC0LDQvScsXHJcbiAgICAgICAgbGluazogJ2h0dHBzOi8vbGl2ZS5zdGF0aWNmbGlja3IuY29tLzE5NTgvNDQzNjg5NzgzMDRfMjczMmI1ODMyNV9rLmpwZydcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgdGl0bGU6ICfQmNCy0LDQvdC+0LLQvicsXHJcbiAgICAgICAgbGluazogJ2h0dHBzOi8vcGljdHVyZXMuczMueWFuZGV4Lm5ldC9mcm9udGVuZC1kZXZlbG9wZXIvY2FyZHMtY29tcHJlc3NlZC9pdmFub3ZvLmpwZydcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgdGl0bGU6ICfQmtCw0LzRh9Cw0YLQutCwJyxcclxuICAgICAgICBsaW5rOiAnaHR0cHM6Ly9saXZlLnN0YXRpY2ZsaWNrci5jb20vNjU1MzUvNDg4MjAxMDA1MzJfODdhMWNlYjEwZF9rLmpwZydcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgdGl0bGU6ICfQpdC+0LvQvNC+0LPQvtGA0YHQutC40Lkg0YDQsNC50L7QvScsXHJcbiAgICAgICAgbGluazogJ2h0dHBzOi8vcGljdHVyZXMuczMueWFuZGV4Lm5ldC9mcm9udGVuZC1kZXZlbG9wZXIvY2FyZHMtY29tcHJlc3NlZC9raG9sbW9nb3Jza3ktcmF5b24uanBnJ1xyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICB0aXRsZTogJ9CR0LDQudC60LDQuycsXHJcbiAgICAgICAgbGluazogJ2h0dHBzOi8vbGl2ZS5zdGF0aWNmbGlja3IuY29tLzY1NTM1LzUxNDIxMjA1NDM0Xzg5MTNmNGExYTVfay5qcGcnXHJcbiAgICB9XHJcbl07XHJcblxyXG4vLyDQndCw0YXQvtC00LjQvCBwb3B1cFxyXG5jb25zdCBwb3B1cEVkaXRFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF90eXBlX2VkaXRcIik7XHJcbmNvbnN0IHBvcHVwQWRkRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfdHlwZV9hZGRcIik7XHJcbmNvbnN0IHBvcHVwT3BlbkltYWdlRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfdHlwZV9pbWFnZVwiKTtcclxuY29uc3QgcG9wdXBDbG9zZUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfdHlwZV9jb25maXJtJylcclxuY29uc3QgcG9wdXBBdmF0YXJFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX3R5cGVfYXZhdGFyJylcclxuXHJcbi8vINCd0LDRhdC+0LTQuNC8INC60L3QvtC/0LrQuFxyXG5jb25zdCBwcm9maWxlQnV0dG9uRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZVwiKTtcclxuY29uc3QgcHJvZmlsZUVkaXRCdXR0b25FbGVtZW50ID0gcHJvZmlsZUJ1dHRvbkVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19lZGl0LWJ1dHRvblwiKTtcclxuY29uc3QgcHJvZmlsZUFkZEJ1dHRvbkVsZW1lbnQgPSBwcm9maWxlQnV0dG9uRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2FkZC1idXR0b25cIik7XHJcblxyXG5cclxuLy8g0J3QsNGF0L7QtNC40Lwg0L/QvtC70Y8g0YTQvtGA0LzRiyDQsiBET01cclxuY29uc3QgZm9ybUVsZW1lbnRFZGl0ID0gcG9wdXBFZGl0RWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvcm1cIik7XHJcbmNvbnN0IGZvcm1FbGVtZW50QWRkID0gcG9wdXBBZGRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybVwiKTtcclxuY29uc3QgZm9ybUVsZW1lbnRBdmF0YXIgPSBwb3B1cEF2YXRhckVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5mb3JtXCIpO1xyXG5cclxuZXhwb3J0IHsgcG9wdXBFZGl0RWxlbWVudCwgcG9wdXBBZGRFbGVtZW50LCBwb3B1cE9wZW5JbWFnZUVsZW1lbnQsIHBvcHVwQ2xvc2VFbGVtZW50LCBwb3B1cEF2YXRhckVsZW1lbnQsIHByb2ZpbGVCdXR0b25FbGVtZW50LCBwcm9maWxlRWRpdEJ1dHRvbkVsZW1lbnQsIHByb2ZpbGVBZGRCdXR0b25FbGVtZW50LCBmb3JtRWxlbWVudEVkaXQsIGZvcm1FbGVtZW50QWRkLCBmb3JtRWxlbWVudEF2YXRhciB9IiwiaW1wb3J0IENhcmQgZnJvbSBcIi4uL2NvbXBvbmVudHMvQ2FyZC5qc1wiXHJcbmltcG9ydCBTZWN0aW9uIGZyb20gJy4uL2NvbXBvbmVudHMvU2VjdGlvbi5qcydcclxuaW1wb3J0IFBvcHVwV2l0aEltYWdlIGZyb20gJy4uL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMnXHJcbmltcG9ydCBQb3B1cFdpdGhGb3JtIGZyb20gJy4uL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcydcclxuaW1wb3J0IFVzZXJJbmZvIGZyb20gJy4uL2NvbXBvbmVudHMvVXNlckluZm8uanMnXHJcbmltcG9ydCBBcGkgZnJvbSAnLi4vY29tcG9uZW50cy9BcGkuanMnXHJcblxyXG5pbXBvcnQgeyB2YWxpZGF0aW9uQ29uZmlnIH0gZnJvbSAnLi4vY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzJ1xyXG5pbXBvcnQgeyBGb3JtVmFsaWRhdG9yIH0gZnJvbSAnLi4vY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzJ1xyXG4vL2ltcG9ydCB7IGluaXRpYWxDYXJkcyB9IGZyb20gJy4uL3V0aWxzL2NvbnN0YW50cy5qcydcclxuLy9pbml0aWFsQ2FyZHMucmV2ZXJzZSgpO1xyXG5pbXBvcnQgJy4vaW5kZXguY3NzJ1xyXG5cclxuaW1wb3J0IHsgcG9wdXBFZGl0RWxlbWVudCwgcG9wdXBBZGRFbGVtZW50LCBwb3B1cE9wZW5JbWFnZUVsZW1lbnQsIHBvcHVwQ2xvc2VFbGVtZW50LCBwb3B1cEF2YXRhckVsZW1lbnQsIHByb2ZpbGVCdXR0b25FbGVtZW50LCBwcm9maWxlRWRpdEJ1dHRvbkVsZW1lbnQsIHByb2ZpbGVBZGRCdXR0b25FbGVtZW50LCBmb3JtRWxlbWVudEVkaXQsIGZvcm1FbGVtZW50QWRkLCBmb3JtRWxlbWVudEF2YXRhciB9IGZyb20gJy4uL3V0aWxzL2NvbnN0YW50cy5qcydcclxuXHJcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy/Qn9C+0LTQutGO0YcuINC6INGB0LXRgNCy0LXRgNGDLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG5jb25zdCBhcGkgPSBuZXcgQXBpKHtcclxuICAgIGJhc2VVcmw6ICdodHRwczovL21lc3RvLm5vbW9yZXBhcnRpZXMuY28vdjEvY29ob3J0LTY2JyxcclxuICAgIGhlYWRlcnM6IHtcclxuICAgICAgICBhdXRob3JpemF0aW9uOiAnMjY3ODZiZTMtZmVkOS00ZDgzLTlhZTItMTM0OGVlZTFiN2Q1JyxcclxuICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXHJcbiAgICB9XHJcbn0pO1xyXG4vLyAgIGNvbnNvbGUubG9nKGFwaSlcclxuLy8gICBhcGkuZ2V0Q2FyZCgpXHJcbi8vICAgICAudGhlbihyZXMgPT4gY29uc29sZS5sb2cocmVzKSlcclxuXHJcbi8vICAgYXBpLmdldEluZm8oKVxyXG4vLyAgICAgLnRoZW4ocmVzID0+IGNvbnNvbGUubG9nKHJlcykpXHJcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcblxyXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL9Cf0L7Qv9Cw0L8g0L7RgtC60YDRi9GC0LjRjyDQutCw0YDRgtC+0YfQtdC6Ly8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuY29uc3QgcG9wdXBPcGVuSW1hZ2VFbGVtZW50U2VsZWN0b3IgPSBcIi5wb3B1cF90eXBlX2ltYWdlXCJcclxuXHJcbmNvbnN0IHBvcHVwT3BlbkltYWdlU2VjdGlvbiA9IG5ldyBQb3B1cFdpdGhJbWFnZShwb3B1cE9wZW5JbWFnZUVsZW1lbnRTZWxlY3RvcilcclxucG9wdXBPcGVuSW1hZ2VTZWN0aW9uLnNldEV2ZW50TGlzdGVuZXJzKClcclxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG5cclxuXHJcbi8v0J/QvtC/0LDQvyBFRElUXHJcbmNvbnN0IGNvbmZpZyA9IHtcclxuICAgIG5hbWVTZWxlY3RvcjogJy5wcm9maWxlX190aXRsZScsXHJcbiAgICBqb2JTZWxlY3RvcjogJy5wcm9maWxlX19zdWJ0aXRsZScsXHJcbiAgICBhdmF0YXJTZWxlY3RvcjogJy5wcm9maWxlX19hdmF0YXInXHJcbn1cclxuY29uc3QgdXNlckluZm8gPSBuZXcgVXNlckluZm8oY29uZmlnKTtcclxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL9Cf0L7Qv9Cw0L8gRURJVC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuY29uc3QgcG9wdXBFZGl0RWxlbWVudFNlbGVjdG9yID0gXCIucG9wdXBfdHlwZV9lZGl0XCJcclxuY29uc3QgZWRpdFBvcHVwV2l0aEZvcm0gPSBuZXcgUG9wdXBXaXRoRm9ybShwb3B1cEVkaXRFbGVtZW50U2VsZWN0b3IsIGZvcm1TdWJtaXRFZGl0KVxyXG5cclxuZnVuY3Rpb24gZm9ybVN1Ym1pdEVkaXQoZGF0YSkge1xyXG4gICAgYXBpLnNldFVzZXJJbmZvKGRhdGEpXHJcbiAgICAgICAgLnRoZW4ocmVzID0+IHtcclxuICAgICAgICAgICAgdXNlckluZm8uc2VyVXNlckluZm8oeyBhdmF0YXI6IHJlcy5hdmF0YXIsIGZpcnN0bmFtZTogcmVzLm5hbWUsIGRlc2NyaXB0aW9uOiByZXMuYWJvdXQgfSlcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5jYXRjaCgoZXJyb3IgPT4gY29uc29sZS5lcnJvcihg0J7RiNC40LHQutCwINC/0YDQuCDRgNC10LTQsNC60YLQuNGA0L7QstCw0L3QuNC4ICR7ZXJyb3J9YCkpKVxyXG4gICAgLy8gdXNlckluZm8uc2VyVXNlckluZm8oaXRlbSk7XHJcbiAgICBlZGl0UG9wdXBXaXRoRm9ybS5jbG9zZSgpXHJcbn1cclxuZWRpdFBvcHVwV2l0aEZvcm0uc2V0RXZlbnRMaXN0ZW5lcnMoKVxyXG4vLy/QmNC60L7QvdC60LAgRURJVC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxucHJvZmlsZUVkaXRCdXR0b25FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgcHJvZmlsZUVkaXRCdXR0b25FbGVtZW50RnVuY3Rpb24pO1xyXG5mdW5jdGlvbiBwcm9maWxlRWRpdEJ1dHRvbkVsZW1lbnRGdW5jdGlvbigpIHtcclxuICAgIGVkaXRQb3B1cFdpdGhGb3JtLnNldElucHV0c1ZhbHVlcyh1c2VySW5mby5nZXRVc2VySW5mbygpKVxyXG4gICAgY29uc29sZS5sb2codXNlckluZm8uZ2V0VXNlckluZm8oKSk7XHJcbiAgICBlZGl0UG9wdXBXaXRoRm9ybS5vcGVuKClcclxufVxyXG4vLyBmdW5jdGlvbiBwcm9maWxlRWRpdEJ1dHRvbkVsZW1lbnRGdW5jdGlvbigpIHtcclxuLy8gICAgIGVkaXRQb3B1cFdpdGhGb3JtLm9wZW4oKVxyXG4vLyAgICAgY29uc3QgcHJvZmlsZURhdGEgID0gdXNlckluZm8uZ2V0VXNlckluZm8oKSAvLyDQktC+0YIg0YLRg9GCINCyINC/0LXRgNC10LzQtdC90L3Rg9GOIHByb2ZpbGVEYXRhINC/0L7Qu9C+0LbQuNC70Lgg0L7QsdGK0LXQutGCLCDRgtC+0YIg0YfRgtC+INGC0Ysg0LrQvtC90YHQvtC70YzQu9C+0LPQuNGA0YPQtdGI0Ywg0L3QsCDRgdC60YDQuNC90YjQvtGC0LUgXHJcbi8vICAgY29uc29sZS5sb2cocHJvZmlsZURhdGEpO1xyXG4vLyAgICAgbmFtZUVkaXRJbnB1dC52YWx1ZSA9IHByb2ZpbGVEYXRhLmZpcnN0bmFtZVxyXG4vLyAgICAgam9iRWRpdElucHV0LnZhbHVlID0gcHJvZmlsZURhdGEuZGVzY3JpcHRpb25cclxuLy8gICB9XHJcblxyXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8v0J/QvtC/0LDQvyBBRC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuY29uc3QgcG9wdXBBZGRFbGVtZW50U2VsZWN0b3IgPSBcIi5wb3B1cF90eXBlX2FkZFwiXHJcbmNvbnN0IGFkZHRQb3B1cFdpdGhGb3JtID0gbmV3IFBvcHVwV2l0aEZvcm0ocG9wdXBBZGRFbGVtZW50U2VsZWN0b3IsIGZvcm1TdWJtaXRBZGQpXHJcblxyXG5mdW5jdGlvbiBmb3JtU3VibWl0QWRkKGRhdGEpIHtcclxuICAgIGNvbnNvbGUubG9nKCdvcGVuJyk7XHJcbiAgICBQcm9taXNlLmFsbChbYXBpLmdldEluZm8oKSwgYXBpLmFkZENhcmQoZGF0YSldKVxyXG4gICAgICAgIC50aGVuKChbZGF0YVVzZXIsIGRhdGFDYXJkXSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhQ2FyZCk7XHJcbiAgICAgICAgICAgIGRhdGFDYXJkLm15aWQgPSBkYXRhVXNlci5faWRcclxuICAgICAgICAgICAgY2FyZHNMaXN0U2VjdGlvbi5hZGRJdGVtKGNyZWF0ZUNhcmQoZGF0YUNhcmQpKTtcclxuICAgICAgICAgICAgYWRkdFBvcHVwV2l0aEZvcm0uY2xvc2UoKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5jYXRjaCgoZXJyb3IgPT4gY29uc29sZS5lcnJvcihg0J7RiNC40LHQutCwINC/0YDQuCDRgdC+0LfQtNCw0L3QuNC4INC60LDRgNGC0L7Rh9C60LggJHtlcnJvcn1gKSkpXHJcbn07XHJcbmFkZHRQb3B1cFdpdGhGb3JtLnNldEV2ZW50TGlzdGVuZXJzKClcclxuXHJcblxyXG4vLy/QmNC60L7QvdC60LAgQURELy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG5wcm9maWxlQWRkQnV0dG9uRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHByb2ZpbGVBZGRCdXR0b25FbGVtZW50RnVuY3Rpb24pO1xyXG5mdW5jdGlvbiBwcm9maWxlQWRkQnV0dG9uRWxlbWVudEZ1bmN0aW9uKCkge1xyXG4gICAgYWRkdFBvcHVwV2l0aEZvcm0ub3BlbigpXHJcbn1cclxuXHJcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8v0J/QvtC/0LDQvyBBVkFUQVIvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuY29uc3QgcG9wdXBBdmF0YXJFbGVtZW50U2VsZWN0b3IgPSBcIi5wb3B1cF90eXBlX2F2YXRhclwiXHJcbmNvbnN0IGF2YXRhclBvcHVwID0gbmV3IFBvcHVwV2l0aEZvcm0ocG9wdXBBdmF0YXJFbGVtZW50U2VsZWN0b3IsIGZvcm1TdWJtaXRBdmF0YXIpXHJcblxyXG5mdW5jdGlvbiBmb3JtU3VibWl0QXZhdGFyKGRhdGEpIHtcclxuICAgIGFwaS5zZXRVc2VyQXZhdGFyKGRhdGEpXHJcbiAgICAgICAgLnRoZW4ocmVzID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2cocmVzKTtcclxuICAgICAgICAgICAgdXNlckluZm8uc2VyVXNlckluZm8oeyBhdmF0YXI6IHJlcy5hdmF0YXIsIGZpcnN0bmFtZTogcmVzLm5hbWUsIGRlc2NyaXB0aW9uOiByZXMuYWJvdXQgfSlcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5jYXRjaCgoZXJyb3IgPT4gY29uc29sZS5lcnJvcihg0J7RiNC40LHQutCwINC/0YDQuCDRgNC10LTQsNC60YLQuNGA0L7QstCw0L3QuNC4INCw0LLQsNGC0LDRgNCwICR7ZXJyb3J9YCkpKVxyXG4gICAgLy8gdXNlckluZm8uc2VyVXNlckluZm8oYXZhdGFyKTtcclxuICAgIGF2YXRhclBvcHVwLmNsb3NlKClcclxuICAgIGNvbnNvbGUubG9nKCdDbG9zZScpO1xyXG59O1xyXG5hdmF0YXJQb3B1cC5zZXRFdmVudExpc3RlbmVycygpXHJcblxyXG5jb25zdCBhdmF0YXJCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fYXZhdGFyLWJ1dHRvbicpXHJcbmNvbnNvbGUubG9nKGF2YXRhckJ1dHRvbik7XHJcbi8vL9CY0LrQvtC90LrQsCBDTE9TRS8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuYXZhdGFyQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZm9ybSlcclxuZnVuY3Rpb24gZm9ybSgpIHtcclxuICAgIGF2YXRhclBvcHVwLm9wZW4oKVxyXG59XHJcblxyXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcblxyXG5cclxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8v0YDQtdCw0LvQuNC30LDRhtC40Y8g0LrQu9Cw0YHRgdCwIFNlY3Rpb24vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG5cclxuZnVuY3Rpb24gY3JlYXRlQ2FyZChpdGVtKSB7XHJcbiAgICBjb25zdCBjYXJkcyA9IG5ldyBDYXJkKGl0ZW0sIHBvcHVwT3BlbkltYWdlU2VjdGlvblxyXG4gICAgICAgIC5vcGVuLCAnLmVsZW1lbnRzLXRlbXBsYXRlJywgKGxpa2VFbGVtZW50LCBjYXJkSWQpID0+IHtcclxuICAgICAgICAgICAgaWYgKGxpa2VFbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygnZWxlbWVudF9fbGlrZS1idXR0b25fYWN0aXZlJykpIHtcclxuICAgICAgICAgICAgICAgIGFwaS5kZWxldGVMaWtlKGNhcmRJZClcclxuICAgICAgICAgICAgICAgICAgICAudGhlbihyZXMgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXJkcy50b2dnbGVMaWtlKHJlcy5saWtlcylcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIC5jYXRjaCgoZXJyb3IgPT4gY29uc29sZS5lcnJvcihg0J7RiNC40LHQutCwINC/0YDQuCDRg9C00LDQu9C10L3QuNC4INC70LDQudC60LAgJHtlcnJvcn1gKSkpXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBhcGkuYWRkTGlrZShjYXJkSWQpXHJcbiAgICAgICAgICAgICAgICAudGhlbihyZXMgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FyZHMudG9nZ2xlTGlrZShyZXMubGlrZXMpXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLmNhdGNoKChlcnJvciA9PiBjb25zb2xlLmVycm9yKGDQntGI0LjQsdC60LAg0L/RgNC4INC/0L7RgdGC0LDQstC6INC70LDQudC60LAgJHtlcnJvcn1gKSkpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gY2FyZHMuZ2VuZXJhdGVDYXJkKClcclxuICAgIHJldHVybiBjYXJkRWxlbWVudDtcclxufVxyXG5jb25zdCBjYXJkTGlzdFNlbGVjdG9yID0gJy5lbGVtZW50c19fbGlzdC10ZW1wbGF0ZSc7XHJcbmNvbnN0IGNhcmRzTGlzdFNlY3Rpb24gPSBuZXcgU2VjdGlvbigoaXRlbSkgPT4ge1xyXG4gICAgY2FyZHNMaXN0U2VjdGlvbi5hZGRJdGVtKGNyZWF0ZUNhcmQoaXRlbSkpO1xyXG59LFxyXG4gICAgY2FyZExpc3RTZWxlY3RvclxyXG4pO1xyXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcblxyXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy/QktCQ0JvQmNCU0JDQptCY0K8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG4vL9CU0LvRjyDQutCw0LbQtNC+0Lkg0YHQvtC30LTQsNC10Lwg0Y3QutGA0LXQvNC/0LvRj9GAINC60LvQsNGB0YHQsCDQstCw0LvQuNC00LDRgtC+0YDQsC4g0K3QutC30LXQvNC/0LvRj9GAINC40LvQuCDQuNC90YHRgtCw0L3RgSAtINGN0YLQviDRgNC10LfRg9C70YzRgtCw0YIg0LLRi9C30L7QstCwIG5ldyBGb3JtVmFsaWRhdG9yKClcclxuY29uc3QgZm9ybUVkaXRWYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcih2YWxpZGF0aW9uQ29uZmlnLCBmb3JtRWxlbWVudEVkaXQpXHJcbmNvbnN0IGZvcm1BZGRWYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcih2YWxpZGF0aW9uQ29uZmlnLCBmb3JtRWxlbWVudEFkZClcclxuY29uc3QgZm9ybUF2YXRhclZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKHZhbGlkYXRpb25Db25maWcsIGZvcm1FbGVtZW50QXZhdGFyKVxyXG5cclxuLy8gIC8vXCLQktC60LvRjtGH0LDQtdC8XCIg0L/QvtC00L/QuNGB0LrQuCDQvdCwINC40LfQvNC10L3QtdC90LjRjyDQsiDQuNC90L/Rg9GC0LDRhVxyXG5mb3JtRWRpdFZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKClcclxuZm9ybUFkZFZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKClcclxuZm9ybUF2YXRhclZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKClcclxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL9Ce0YHQvdC+0LLQsCBBUEkvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcblByb21pc2UuYWxsKFthcGkuZ2V0SW5mbygpLCBhcGkuZ2V0Q2FyZCgpXSlcclxuICAgIC50aGVuKChbZGF0YVVzZXIsIGRhdGFDYXJkXSkgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGRhdGFDYXJkKTtcclxuICAgICAgICBkYXRhQ2FyZC5mb3JFYWNoKGVsZW1lbnQgPT4ge1xyXG4gICAgICAgICAgICBlbGVtZW50Lm15aWQgPSBkYXRhVXNlci5faWRcclxuICAgICAgICB9KTtcclxuICAgICAgICBjb25zb2xlLmxvZyhkYXRhVXNlcik7XHJcbiAgICAgICAgdXNlckluZm8uc2VyVXNlckluZm8oeyBhdmF0YXI6IGRhdGFVc2VyLmF2YXRhciwgZmlyc3RuYW1lOiBkYXRhVXNlci5uYW1lLCBkZXNjcmlwdGlvbjogZGF0YVVzZXIuYWJvdXQgfSlcclxuICAgICAgICBjYXJkc0xpc3RTZWN0aW9uLnJlbmRlckl0ZW1zKGRhdGFDYXJkKVxyXG4gICAgfSlcclxuICAgIC5jYXRjaCgoZXJyb3IpID0+IGNvbnNvbGUuZXJyb3IoYNCe0YjQuNCx0LrQsCDQv9GA0Lgg0L3QsNGH0LDQu9GM0L3Ri9GFINC00LDQvdC90YvQuSDRgdGC0YDQsNC90LjRhtGLICR7ZXJyb3J9YCkpXHJcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuXHJcbi8vIGFwaS5nZXRJbmZvKGRhdGEpXHJcbi8vICAgICAudGhlbihyZXMgPT4gcmVzLmpzb24pXHJcbi8vICAgICAudGhlbihyZXMgPT4gY29uc29sZS5sb2cocmVzKSkiLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBBcGkge1xyXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcclxuICAgIHRoaXMuX3VybCA9IG9wdGlvbnMuYmFzZVVybFxyXG4gICAgdGhpcy5faGVhZGVycyA9IG9wdGlvbnMuaGVhZGVyc1xyXG4gICAgdGhpcy5fYXV0aG9yaXphdGlvbiA9IG9wdGlvbnMuaGVhZGVycy5hdXRob3JpemF0aW9uXHJcbiAgfVxyXG4gIF9jaGVja1Jlc3BvbnNlKHJlcykge1xyXG4gICAgaWYgKHJlcy5vaykge1xyXG4gICAgICByZXR1cm4gcmVzLmpzb24oKTtcclxuICAgIH1cclxuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChg0KfRgtC+LdGC0L4g0L/QvtGI0LvQviDQvdC1INGC0LDQujogJHtyZXMuc3RhdHVzfWApO1xyXG4gIH1cclxuXHJcbiAgZ2V0SW5mbygpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl91cmx9L3VzZXJzL21lYCwge1xyXG4gICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgYXV0aG9yaXphdGlvbjogdGhpcy5fYXV0aG9yaXphdGlvbixcclxuICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXHJcbiAgICAgIH1cclxuICAgIH0pXHJcbiAgICAgIC50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpXHJcbiAgICAvLy50aGVuKHJlcyA9PiByZXMub2sgPyByZXMuanNvbigpOiBQcm9taXNlLnJlamVjdClcclxuICB9XHJcbiAgZ2V0Q2FyZCgpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl91cmx9L2NhcmRzYCwge1xyXG4gICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgYXV0aG9yaXphdGlvbjogdGhpcy5fYXV0aG9yaXphdGlvbixcclxuICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXHJcbiAgICAgIH1cclxuICAgIH0pXHJcbiAgICAgIC50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpXHJcbiAgfVxyXG4gIHNldFVzZXJJbmZvKGRhdGEpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl91cmx9L3VzZXJzL21lYCwge1xyXG4gICAgICBtZXRob2Q6ICdQQVRDSCcsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICBuYW1lOiBkYXRhLmZpcnN0bmFtZSxcclxuICAgICAgICBhYm91dDogZGF0YS5kZXNjcmlwdGlvbixcclxuICAgICAgfSlcclxuICAgIH0pXHJcbiAgICAgIC50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpXHJcbiAgfVxyXG4gIHNldFVzZXJBdmF0YXIoZGF0YSkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX3VybH0vdXNlcnMvbWUvYXZhdGFyYCwge1xyXG4gICAgICBtZXRob2Q6ICdQQVRDSCcsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICBhdmF0YXI6IGRhdGEuYXZhdGFyLFxyXG4gICAgICB9KVxyXG4gICAgfSlcclxuICAgIC50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpXHJcbiAgfVxyXG4gIGFkZENhcmQoZGF0YSl7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXJsfS9jYXJkc2AsIHtcclxuICAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICBuYW1lOiBkYXRhLnRpdGxlLFxyXG4gICAgICAgIGxpbms6IGRhdGEubGluayxcclxuICAgICAgfSlcclxuICAgIH0pXHJcbiAgICAudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKVxyXG4gIH1cclxuICBhZGRMaWtlKGNhcmRJZCl7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXJsfS9jYXJkcy8ke2NhcmRJZH0vbGlrZXNgLCB7XHJcbiAgICAgIG1ldGhvZDogJ1BVVCcsXHJcbiAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgYXV0aG9yaXphdGlvbjogdGhpcy5fYXV0aG9yaXphdGlvbixcclxuICAgICAgfVxyXG4gICAgfSlcclxuICAgIC50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpXHJcbiAgfVxyXG4gIGRlbGV0ZUxpa2UoY2FyZElkKXtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl91cmx9L2NhcmRzLyR7Y2FyZElkfS9saWtlc2AsIHtcclxuICAgICAgbWV0aG9kOiAnREVMRVRFJyxcclxuICAgICAgaGVhZGVyczoge1xyXG4gICAgICBhdXRob3JpemF0aW9uOiB0aGlzLl9hdXRob3JpemF0aW9uLFxyXG4gICAgICB9XHJcbiAgICB9KVxyXG4gICAgLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSlcclxuICB9XHJcbn0iLCJpbXBvcnQgUG9wdXAgZnJvbSAnLi9Qb3B1cC5qcyc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XHJcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcclxuICAgIHRoaXMuX2ltYWdlID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9faW1hZ2VcIik7XHJcbiAgICB0aGlzLl90ZXh0ID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fdGV4dFwiKTtcclxuICB9XHJcblxyXG4gIG9wZW4gPSAobmFtZSwgbGluaykgPT4ge1xyXG4gICAgdGhpcy5fdGV4dC50ZXh0Q29udGVudCA9IG5hbWU7XHJcbiAgICB0aGlzLl9pbWFnZS5hbHQgPSBuYW1lXHJcbiAgICB0aGlzLl9pbWFnZS5zcmMgPSBsaW5rO1xyXG4gICAgc3VwZXIub3BlbigpXHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZXJJbmZvIHtcclxuICAgICAgICBjb25zdHJ1Y3Rvcihjb25maWcpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3Byb2ZpbGVOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjb25maWcubmFtZVNlbGVjdG9yKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3Byb2ZpbGVUZXh0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjb25maWcuam9iU2VsZWN0b3IpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fcHJvZmlsZUF2YXRhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29uZmlnLmF2YXRhclNlbGVjdG9yKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBnZXRVc2VySW5mbygpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIGZpcnN0bmFtZTogIHRoaXMuX3Byb2ZpbGVOYW1lLnRleHRDb250ZW50LFxyXG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IHRoaXMuX3Byb2ZpbGVUZXh0LnRleHRDb250ZW50XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIHNlclVzZXJJbmZvKHthdmF0YXIsIGZpcnN0bmFtZSwgZGVzY3JpcHRpb259KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9wcm9maWxlQXZhdGFyLnNyYyA9IGF2YXRhclxyXG4gICAgICAgICAgICAgICAgdGhpcy5fcHJvZmlsZU5hbWUudGV4dENvbnRlbnQgPSBmaXJzdG5hbWVcclxuICAgICAgICAgICAgICAgIHRoaXMuX3Byb2ZpbGVUZXh0LnRleHRDb250ZW50ID0gZGVzY3JpcHRpb25cclxuICAgICAgICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICB9XHJcbi8vIGV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZXJJbmZvIHtcclxuLy8gICAgIGNvbnN0cnVjdG9yKG5hbWUsIHRleHQpIHtcclxuLy8gICAgICAgICB0aGlzLl9pbnB1dE5hbWUgPSBuYW1lXHJcbi8vICAgICAgICAgdGhpcy5faW5wdXRUZXh0ID0gdGV4dFxyXG4vLyAgICAgICAgIHRoaXMuX3Byb2ZpbGVOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX3RpdGxlJyk7XHJcbi8vICAgICAgICAgdGhpcy5fcHJvZmlsZVRleHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fc3VidGl0bGUnKTtcclxuLy8gICAgIH1cclxuICAgXHJcbi8vICAgICBnZXRVc2VySW5mbygpIHtcclxuLy8gICAgICAgICByZXR1cm4ge1xyXG4vLyAgICAgICAgIG5hbWU6IHRoaXMuX2lucHV0TmFtZS52YWx1ZSA9IHRoaXMuX3Byb2ZpbGVOYW1lLnRleHRDb250ZW50LFxyXG4vLyAgICAgICAgIHRleHQ6IHRoaXMuX2lucHV0VGV4dC52YWx1ZSA9IHRoaXMuX3Byb2ZpbGVUZXh0LnRleHRDb250ZW50XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgfVxyXG4vLyAgICAgLy8gc2VyVXNlckluZm8obmFtZSwgdGV4dCkge1xyXG4vLyAgICAgLy8gICAgIHRoaXMuX3Byb2ZpbGVOYW1lLnRleHRDb250ZW50ID0gbmFtZVxyXG4vLyAgICAgLy8gICAgIHRoaXMuX3Byb2ZpbGVUZXh0LnRleHRDb250ZW50ID0gdGV4dFxyXG4vLyAgICAgLy8gIH1cclxuLy8gICAgIHNldFVzZXJJbmZvKCkge1xyXG5cclxuLy8gICAgICAgICB0aGlzLl9pbnB1dE5hbWUudGV4dENvbnRlbnQgPSB0aGlzLl9wcm9maWxlTmFtZS52YWx1ZSxcclxuLy8gICAgICAgICB0aGlzLl9pbnB1dFRleHQudGV4dENvbnRlbnQgPSB0aGlzLl9wcm9maWxlVGV4dC52YWx1ZVxyXG5cclxuLy8gICAgIH1cclxuLy8gfSIsIlxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VjdGlvbiB7XHJcbiAgICBjb25zdHJ1Y3RvcihyZW5kZXJlciwgY29udGFpbmVyU2VsZWN0b3IpIHtcclxuICAgICAgLy8gIHRoaXMuX2luaXRpYWxBcnJheSA9IGRhdGE7XHJcbiAgICAgICAvLyB0aGlzLl9pdGVtcz0gaXRlbXM7XHJcbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IHJlbmRlcmVyO1xyXG4gICAgICAgIHRoaXMuX2NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29udGFpbmVyU2VsZWN0b3IpOyBcclxuICAgIH1cclxuICAgIGFkZEl0ZW0oZWxlbWVudCkge1xyXG4gICAgICAgLy90aGlzLl9jb250YWluZXIuYXBwZW5kKGVsZW1lbnQpXHJcbiAgICAgICB0aGlzLl9jb250YWluZXIucHJlcGVuZChlbGVtZW50KVxyXG4gICAgfVxyXG4gICAgcmVuZGVySXRlbXMoZGF0YSkge1xyXG4gICAgLy9yZW5kZXJlcigpIHtcclxuICAgICAgICBkYXRhLmZvckVhY2goaXRlbSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIoaXRlbSlcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgIH1cclxuXHJcblxyXG4iXSwibmFtZXMiOlsiQ2FyZCIsImNvbnN0cnVjdG9yIiwiY2FyZERhdGEiLCJoYW5kbGVDYXJkQ2xpY2siLCJ0ZW1wbGF0ZVNlbGVjdG9yIiwicHV0TGlrZSIsInRoaXMiLCJfbmFtZSIsIm5hbWUiLCJfbGluayIsImxpbmsiLCJfbXlpZCIsIm15aWQiLCJfY2FyZElkIiwiX2lkIiwiX2xpa2VzIiwibGlrZXMiLCJfbGlrZXNMZW5ndGgiLCJsZW5ndGgiLCJfcHV0TGlrZSIsIl9vd25lcklkIiwib3duZXIiLCJfdGVtcGxhdGVTZWxlY3RvciIsIl9nZXRUZW1wbGF0ZSIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJfdmlzaWJsZURlbGV0ZUJ1dHRvbiIsIl9kZXRldGUiLCJzdHlsZSIsInZpc2liaWxpdHkiLCJfY291bnRMaWtlIiwiZm9yRWFjaCIsImVsZW1lbnQiLCJfY291bnRlciIsInRleHRDb250ZW50IiwiX2J1dHRvbiIsImNsYXNzTGlzdCIsImFkZCIsImdlbmVyYXRlQ2FyZCIsIl9lbGVtZW50IiwiY29uc29sZSIsImxvZyIsIl9pbWFnZSIsIl90ZXh0IiwiYWx0Iiwic3JjIiwiX3NldEV2ZW50TGlzdGVuZXJzIiwiX2xpa2VDYXJkIiwidG9nZ2xlTGlrZSIsInRvZ2dsZSIsIl9kZWxldGVDYXJkIiwicmVtb3ZlIiwib3BlbkltZyIsImFkZEV2ZW50TGlzdGVuZXIiLCJQb3B1cCIsInBvcHVwU2VsZWN0b3IiLCJfcG9wdXAiLCJfaGFuZGxlRXNjQ2xvc2UiLCJiaW5kIiwiX3BvcHVwQ2xvc2VCdXR0b24iLCJvcGVuIiwiY2xvc2UiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZXZ0Iiwia2V5Iiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJ0YXJnZXQiLCJjdXJyZW50VGFyZ2V0IiwiUG9wdXBXaXRoRm9ybSIsImZvcm1TdWJtaXRBZGQiLCJzdXBlciIsIl9mb3JtIiwiX2lucHV0IiwicXVlcnlTZWxlY3RvckFsbCIsIl9mb3JtQnV0dG9uIiwicmVzZXQiLCJfZ2V0SW5wdXRWYWx1ZXMiLCJ2YWx1ZXMiLCJpbnB1dCIsInZhbHVlIiwic2V0SW5wdXRzVmFsdWVzIiwiZGF0YVVzZXIiLCJfb25TdWJtaXQiLCJwcmV2ZW50RGVmYXVsdCIsInZhbGlkYXRpb25Db25maWciLCJmb3JtU2VsZWN0b3IiLCJpbnB1dFNlbGVjdG9yIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiaW5wdXRFcnJvckNsYXNzIiwiZXJyb3JDbGFzcyIsIkZvcm1WYWxpZGF0b3IiLCJjb25maWciLCJmb3JtIiwiX2lucHV0U2VsZWN0b3IiLCJfc3VibWl0QnV0dG9uU2VsZWN0b3IiLCJfaW5hY3RpdmVCdXR0b25DbGFzcyIsIl9pbnB1dEVycm9yQ2xhc3MiLCJfZXJyb3JDbGFzcyIsIl9pbnB1dExpc3QiLCJBcnJheSIsImZyb20iLCJfc3VibWl0QnV0dG9uIiwiX2VuYWJsZUJ1dHRvbiIsImJ1dHRvbiIsInJlbW92ZUF0dHJpYnV0ZSIsImRpc2FibGVCdXR0b24iLCJzZXRBdHRyaWJ1dGUiLCJfc2hvd0lucHV0RXJyb3IiLCJmb3JtRXJyb3IiLCJpZCIsInZhbGlkYXRpb25NZXNzYWdlIiwiX2hpZGVJbnB1dEVycm9yIiwiX2hhc0ludmFsaWRJbnB1dCIsImZvcm1JbnB1dCIsInNvbWUiLCJpdGVtIiwidmFsaWRpdHkiLCJ2YWxpZCIsIl9jaGVja0lucHV0VmFsaWRpdHkiLCJjaGVja1ZhbGlkaXR5IiwidG9nZ2xlQnV0dG9uU3RhdGUiLCJyZXNldFZhbGlkYXRpb24iLCJpbnB1dEVsZW1lbnQiLCJlbmFibGVWYWxpZGF0aW9uIiwicG9wdXBFZGl0RWxlbWVudCIsInBvcHVwQWRkRWxlbWVudCIsInBvcHVwQXZhdGFyRWxlbWVudCIsInByb2ZpbGVCdXR0b25FbGVtZW50IiwicHJvZmlsZUVkaXRCdXR0b25FbGVtZW50IiwicHJvZmlsZUFkZEJ1dHRvbkVsZW1lbnQiLCJmb3JtRWxlbWVudEVkaXQiLCJmb3JtRWxlbWVudEFkZCIsImZvcm1FbGVtZW50QXZhdGFyIiwiYXBpIiwib3B0aW9ucyIsIl91cmwiLCJiYXNlVXJsIiwiX2hlYWRlcnMiLCJoZWFkZXJzIiwiX2F1dGhvcml6YXRpb24iLCJhdXRob3JpemF0aW9uIiwiX2NoZWNrUmVzcG9uc2UiLCJyZXMiLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0Iiwic3RhdHVzIiwiZ2V0SW5mbyIsImZldGNoIiwidGhlbiIsImdldENhcmQiLCJzZXRVc2VySW5mbyIsImRhdGEiLCJtZXRob2QiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImZpcnN0bmFtZSIsImFib3V0IiwiZGVzY3JpcHRpb24iLCJzZXRVc2VyQXZhdGFyIiwiYXZhdGFyIiwiYWRkQ2FyZCIsInRpdGxlIiwiYWRkTGlrZSIsImNhcmRJZCIsImRlbGV0ZUxpa2UiLCJwb3B1cE9wZW5JbWFnZVNlY3Rpb24iLCJ1c2VySW5mbyIsIl9wcm9maWxlTmFtZSIsIm5hbWVTZWxlY3RvciIsIl9wcm9maWxlVGV4dCIsImpvYlNlbGVjdG9yIiwiX3Byb2ZpbGVBdmF0YXIiLCJhdmF0YXJTZWxlY3RvciIsImdldFVzZXJJbmZvIiwic2VyVXNlckluZm8iLCJlZGl0UG9wdXBXaXRoRm9ybSIsImNhdGNoIiwiZXJyb3IiLCJhZGR0UG9wdXBXaXRoRm9ybSIsImFsbCIsImRhdGFDYXJkIiwiY2FyZHNMaXN0U2VjdGlvbiIsImFkZEl0ZW0iLCJjcmVhdGVDYXJkIiwiYXZhdGFyUG9wdXAiLCJhdmF0YXJCdXR0b24iLCJjYXJkcyIsImxpa2VFbGVtZW50IiwiY29udGFpbnMiLCJyZW5kZXJlciIsImNvbnRhaW5lclNlbGVjdG9yIiwiX2NvbnRhaW5lciIsInByZXBlbmQiLCJyZW5kZXJJdGVtcyIsImZvcm1FZGl0VmFsaWRhdG9yIiwiZm9ybUFkZFZhbGlkYXRvciIsImZvcm1BdmF0YXJWYWxpZGF0b3IiXSwic291cmNlUm9vdCI6IiJ9